var searchTypes,BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string;if(this.versionSearchString=e[t].subString,-1!=r.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};function toggleClickEvent(){var e=isIpad()?"touchstart":"click";return e}function toggle(e,t){var r=document.getElementById(e);"none"==r.style.display?(r.style.display=t,r.focus()):r.style.display="none"}if(BrowserDetect.init(),"undefined"!=typeof AUTOCOMPLETE_SEARCH_TYPES&&(searchTypes=[{name:AUTOCOMPLETE_SEARCH_TYPES.video,className:"video",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlVideo,testTypePattern:"video"},{name:AUTOCOMPLETE_SEARCH_TYPES.photos,className:"photos",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlPhoto,testTypePattern:"albums"},{name:AUTOCOMPLETE_SEARCH_TYPES.members,className:"members",autocompleteUrl:null,submitUrl:searchUrlMember,testTypePattern:"user"},{name:AUTOCOMPLETE_SEARCH_TYPES.pornstars,className:"pornstars",autocompleteUrl:"/pornstars/search_autocomplete",submitUrl:searchUrlPornstar,submitUrlVideo:searchUrlVideo,testTypePattern:"pornstars"},{name:AUTOCOMPLETE_SEARCH_TYPES.gifs,className:"gifs",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlGifs,testTypePattern:"gifs"}],1==showStreamate&&searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.camModels,className:"cam models",autocompleteUrl:"/live/search_autocomplete",submitUrl:searchUrlCam,testTypePattern:"live"})),"Firefox"===BrowserDetect.browser){var i,arrowIcons=document.querySelectorAll(".arrow.arrowMenu");if(arrowIcons)for(i=0;i<arrowIcons.length;i++)MG_Utils.addClass(arrowIcons[i],"fFox")}document.querySelector(".fakeClick")&&document.querySelector(".fakeClick").addEventListener("click",function(){var e=document.querySelector("#searchTypeSelected"),t=document.querySelector("#searchTypeSelected i");MG_Utils.hasClass(e,"active")?(MG_Utils.removeClass(e,"active"),MG_Utils.removeClass(t,"active")):(MG_Utils.addClass(e,"active"),MG_Utils.addClass(t,"active"))}),document.addEventListener("click",function(e){var t=document.querySelector("#searchTypeSelected.active"),r=document.querySelector("#searchTypeSelected i");t&&"fakeClick"!==e.target.className&&(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(r,"active"))});var gifMenuItem=(show=function(e){var t,r,s,i,a,o=e.target;null==o.querySelector("video")?(t=o.querySelector("img.thumb"),r=o.querySelector("div"),t&&t.setAttribute("src",t.getAttribute("data-gif-url")),MG_Utils.addClass(o.querySelector("img.loader"),"fade"),r&&MG_Utils.addClass(r,"slide")):(s=o.querySelector("video"))&&(i=s.querySelector(".js-webm"),a=s.querySelector(".js-mp4"),i&&i.setAttribute("src",s.getAttribute("data-webm")),a&&a.setAttribute("src",s.getAttribute("data-mp4")),o.querySelectorAll("video")[0].load(),s.setAttribute("autoplay",!0)),"undefined"!=typeof gifLoadTimeout&&clearTimeout(gifLoadTimeout),function(t){var e=t.querySelectorAll("img.thumb");"undefined"!=typeof gifLoadTimeout&&(gifLoadTimeout=setTimeout(function(){var e=t.querySelector("img.loader");e&&MG_Utils.removeClass(e,"fade")},1e4)),[].forEach.call(e,function(e){e.addEventListener("load",function(){MG_Utils.removeClass(e.parentNode.querySelector("img.loader"),"fade")})})}(o)},hide=function(e){var t,r,s,i,a,o,l=e.target;null==l.querySelector("video")?(t=l.querySelector("img.thumb"),r=l.querySelector("div"),t&&t.setAttribute("src",t.getAttribute("data-static-url")),MG_Utils.removeClass(l.querySelector("img.loader"),"fade"),r&&MG_Utils.removeClass(r,"slide")):(s=l.querySelector("video"))&&(i=l.querySelectorAll("video")[0],a=s.querySelector(".js-webm"),o=s.querySelector(".js-mp4"),a&&a.removeAttribute("src"),o&&o.removeAttribute("src"),i.pause(),s.setAttribute("autoplay",!1),i.load())},{hideGifs:hide,showGifs:show});
!function(){"use strict";var i={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["menu_livesex"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){this.asyncMenuItems.forEach(function(t){var e;switch(t){case"menu_livesex":e=MENU_MAIN_HEADER.liveSexUrl;break;case"menu_photos":e=MENU_MAIN_HEADER.photosUrl;break;default:return""}i.cache[t]||MG_Utils.ajaxCall({dataType:"html",type:"GET",url:e,success:function(e){i.cache[t]={data:e}}})})},asyncItems:function(e,t){var n,s;MG_Utils.hasClass(e,"asyncLoad")&&(n=this,MG_Utils.hasClass(e,"livesex")?s=MENU_MAIN_HEADER.liveSexUrl:MG_Utils.hasClass(e,"photos")&&(s=MENU_MAIN_HEADER.photosUrl),MG_Utils.ajaxCall({type:"GET",url:s,dataType:"html",beforeSend:function(){t.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(e){e&&e.length&&(n.createMenuInStorage(),t.innerHTML=e)}}))},cacheExpire:function(e){return this.cacheTime-e<=0},loadContent:function(e,t){var n=(new Date).getTime();return MG_Utils.hasClass(e,"livesex")&&i.cache.menu_livesex&&!this.cacheExpire(n)?t.innerHTML=i.cache.menu_livesex.data:MG_Utils.hasClass(e,"photos")&&i.cache.menu_photos&&!this.cacheExpire(n)?t.innerHTML=i.cache.menu_photos.data:(this.cacheExpire(n)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),void this.asyncItems(e,t))},showSubmenu:function(e){var s=e.target||e.srcElement,o=s.querySelector(i.options.submenu);if("undefined"!=typeof isVideoPage&&o&&"photos"===o.getAttribute("data-submenu-type"))s.setAttribute("data-hover",1);else{if(!o)return;s.setAttribute("data-hover",1),setTimeout(function(){if(i.isHovered(s)){var e=o.querySelector(i.options.discover);if(e){e.style.display="inline-block";var t=o.querySelectorAll(".js-menuSwap"),n=0;if(t&&t.length)for(;n<t.length;n++)t[n].setAttribute("src",t[n].getAttribute("data-image"))}else o.querySelector(i.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(s,"asyncLoad")&&i.loadContent(s,o.querySelector(i.options.submenuContent));MG_Utils.addClass(s.querySelector(i.options.topMenu),"hovered"),o.style.display="block"}},i.options.timeout)}},hideSubmenu:function(e){var t=e.target||e.srcElement,n=t.querySelector(i.options.submenu);n&&(t.setAttribute("data-hover",0),setTimeout(function(){var e;i.isHovered(t)||(n.style.display="none",(e=n.querySelector(i.options.discover))?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(n.querySelector(i.options.submenuContent).innerHTML="")):n.querySelector(i.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(i.options.topMenu),"hovered"))},i.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}}},a={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["livesex"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){~this.asyncMenuItems.indexOf(this.cache)||MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,success:function(t){a.asyncMenuItems.forEach(function(e){a.cache[e]={data:t[e]}})}})},asyncItems:function(n,s){var e;MG_Utils.hasClass(n,"asyncLoad")&&(e=this,MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,beforeSend:function(){s.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(t){t&&(e.createMenuInStorage(),a.asyncMenuItems.forEach(function(e){MG_Utils.hasClass(n,e)&&(s.innerHTML=t[e])}))}}))},cacheExpire:function(e){return this.cacheTime-e<=0},displayContent:function(t,n){var s=(new Date).getTime(),o=!1;a.asyncMenuItems.forEach(function(e){if(MG_Utils.hasClass(t,e)&&a.cache[e]&&!a.cacheExpire(s))return n.innerHTML=a.cache[e].data,o=!0}),o||(this.cacheExpire(s)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),this.asyncItems(t,n))},showSubmenu:function(e){var s=e.target||e.srcElement,o=s.querySelector(a.options.submenu);if("undefined"!=typeof isVideoPage&&o&&"photos"===o.getAttribute("data-submenu-type"))s.setAttribute("data-hover",1);else{if(!o)return;s.setAttribute("data-hover",1),setTimeout(function(){if(a.isHovered(s)){var e=o.querySelector(a.options.discover);if(e){e.style.display="inline-block";var t=o.querySelectorAll(".js-menuSwap"),n=0;if(t&&t.length)for(;n<t.length;n++)t[n].setAttribute("src",t[n].getAttribute("data-image"))}else o.querySelector(a.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(s,"asyncLoad")&&a.displayContent(s,o.querySelector(a.options.submenuContent));MG_Utils.addClass(s.querySelector(a.options.topMenu),"hovered"),o.style.display="block"}},a.options.timeout)}},hideSubmenu:function(e){var t=e.target||e.srcElement,n=t.querySelector(a.options.submenu);n&&(t.setAttribute("data-hover",0),setTimeout(function(){var e;a.isHovered(t)||(n.style.display="none",(e=n.querySelector(a.options.discover))?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(n.querySelector(a.options.submenuContent).innerHTML="")):n.querySelector(a.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(a.options.topMenu),"hovered"))},a.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}}};MG_Utils.domReady(function(){page_params.getMenuType?a.init():i.init()})}(),function(){var e=document.querySelectorAll("ul.gifsMenuItems li");e&&[].forEach.call(e,function(e){e.addEventListener("mouseenter",gifMenuItem.showGifs),e.addEventListener("mouseleave",gifMenuItem.hideGifs)})}();
var MG_Flipbook=function(){"use strict";var Self=this,timer,o={},data={},flipTimer,oldThumbUrlAC;Self.init=function(e){Self.params=e,Self.addEvents()},Self.addEvent=function(e,t,i){var a;e.addEventListener?e.addEventListener(t,i,!1):(i.$$guid||(i.$$guid=Self.addEvent.guid++),e.events||(e.events={}),(a=e.events[t])||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[i.$$guid]=i,e["on"+t]=Self.handleEvent)},Self.addEvent.guid=1,Self.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.events&&e.events[t]&&delete e.events[t][i.$$guid]},Self.handleEvent=function(e){var t=!0;e=e||Self.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i=this.events[e.type];for(var a in i)this.$$handleEvent=i[a],!1===this.$$handleEvent(e)&&(t=!1);return t},Self.fixEvent=function(e){return e.preventDefault=Self.fixEvent.preventDefault,e.stopPropagation=Self.fixEvent.stopPropagation,e},Self.fixEvent.preventDefault=function(){this.returnValue=!1},Self.fixEvent.stopPropagation=function(){this.cancelBubble=!0},Self.addEvents=function(){Self.addEvent(document.body,"mousemove",Self.initFlip),Self.addEvent(document.body,"mouseout",Self.terminateFlip),Self.addEvent(window,"scroll",Self.endFlip)},Self.hasClass=function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},Self.closestElm=function(e,t,i){for(var i=i||document.body,a=t.charAt(0);e&&e!==i;){if("."===a&&Self.hasClass(e,t.substr(1)))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.getAttribute(t.substr(1,t.indexOf("]")-1)))return e;e=e.parentNode}return!1},Self.dataSet=function(string){var data;try{data=eval("("+string+")")}catch(e){data=!1}return data},Self.data=function(e,t,i){switch(e.data=e.data||{},arguments.length){case 3:e.data[t]=i;break;case 2:return e.data[t];default:return e.data}},Self.callbackData=function(){return data={index:o.index,setLength:o.setLength,currentImage:o.currentImage,imgWrapper:o.imgWrapper,currentUrl:o.currentUrl,active:o.active,status:o.status}},Self.initFlip=function(e){var t,i=(e=e||window.event).target||e.srcElement;window.clearTimeout(flipTimer),MG_Utils.hasClass(i,"img")&&MG_Utils.hasClass(i.querySelector(".thumb"),"js-videoThumbFlip")&&!i.querySelector(".js-videoThumbFlip").getAttribute("data-flipbook_active")&&(t=i.querySelector(".js-videoThumbFlip")),MG_Utils.hasClass(i,"js-videoThumbFlip")&&!i.getAttribute("data-flipbook_active")&&(t=i),t&&(Self.closestElm(t,".img").querySelector(".privateOverlay")||(flipTimer=window.setTimeout(function(){Self.startFlip(t)},100)))},Self.terminateFlip=function(e){var t=(e=e||window.event).target,i=e.relatedTarget;window.clearTimeout(flipTimer),MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")&&t.querySelector(".thumb").getAttribute("data-flipbook_active")&&!MG_Utils.hasClass(i,"thumb")&&Self.endFlip(),MG_Utils.hasClass(t,"js-videoThumbFlip")&&t.getAttribute("data-flipbook_active")&&Self.endFlip()},Self.startFlip=function(e){var t,i,a,l,n,r,s,f,u,d,c,m,S,b,e=e,h=0,p=Self.params.thumbnailsSets.length;for(o.active&&!Self.closestElm(e,"[data-flipbook_active]")&&Self.endFlip(),oldThumbUrlAC=e.src;h<p;h++)if(Self.closestElm(e,Self.params.thumbnailsSets[h].thumbnailsContainer)&&(!Self.params.thumbnailsSets[h].extendHoverClassName&&Self.hasClass(e,Self.params.thumbnailsSets[h].thumbnailsClassName)||Self.params.thumbnailsSets[h].extendHoverClassName&&Self.closestElm(e,"."+Self.params.thumbnailsSets[h].extendHoverClassName))){if(d=u=e,Self.params.thumbnailsSets[h].excludeContainer&&Self.closestElm(u,Self.params.thumbnailsSets[h].excludeContainer))return!1;if(Self.params.thumbnailsSets[h].extendHoverClassName&&(d=(u=Self.closestElm(u,"."+Self.params.thumbnailsSets[h].extendHoverClassName)).querySelector("."+Self.params.thumbnailsSets[h].thumbnailsClassName)),o.active){if(u.getAttribute("data-flipbook_active"))return!1;Self.endFlip()}return r=Self.params.thumbnailsSets[h].cover?(l=(f=Self.dataSet(d.getAttribute("data-flipbook"))).setLength,a=f.firstThumbnail,s=parseInt(f.firstThumbnail,10)-f.incrementer,t=f.digitsPreffix,i=f.digitsSuffix,n=f.incrementer,-1):(Self.params.thumbnailsSets[h].adultCentro?(c=9,d.src=d.src.replace("primary","baseline/"+h)):c=1,m=/\(([^)]+)\)/,S=d.src.indexOf(")."),t=!(b=m.exec(d.src))||-1!==S?d.src.substring(0,d.src.lastIndexOf(Self.params.thumbnailsSets[h].digitsPreffix)+c):d.src.substring(0,d.src.lastIndexOf(")")+1),s=d.src.replace(t,""),i=Self.params.thumbnailsSets[h].digitsSuffix,s=parseInt(s.replace(i,""),10),a=Self.params.thumbnailsSets[h].firstThumbnail,l=Self.params.thumbnailsSets[h].setLength,(s-a)/(n=Self.params.thumbnailsSets[h].incrementer)),o={index:r,setLength:l,currentUrl:d.src,firstThumbnail:a,digits:s,digitsPreffix:t,digitsSuffix:i,matches:b,testString:S,incrementer:n,currentImage:d,imgWrapper:!1,interval:Self.params.thumbnailsSets[h].interval,active:!0,callback:Self.params.thumbnailsSets[h].callback,init:Self.params.thumbnailsSets[h].init,status:"started"},u.setAttribute("data-flipbook_active","1"),Self.params.thumbnailsSets[h].extendHoverClassName&&(o.imgWrapper=u),o.init&&!u.init&&(Self.callbackData(),o.init(data)),u.init||(Self.params.thumbnailsSets[h].adultCentro?Self.data(u,"oldThumbUrl",oldThumbUrlAC):(Self.data(u,"oldThumbUrl",d.src),Self.data(u,"oldIndex",r)),u.init=!0),o.callback&&(Self.callbackData(),o.callback(data)),Self.params.thumbnailsSets[h].resetIndex&&(o.digits=(l-1)*o.incrementer+parseInt(o.firstThumbnail,10),o.index=l-1,Self.callbackData()),window.clearTimeout(timer),timer=window.setTimeout(Self.preload,0),!1}},Self.endFlip=function(){var e;window.clearTimeout(timer),o.active&&((e=document.querySelector("[data-flipbook_active]"))&&(e.removeAttribute("data-flipbook_active"),"IMG"===e.nodeName?e.src=Self.data(e,"oldThumbUrl"):e.querySelector("img").src=Self.data(e,"oldThumbUrl")),o.active=!1,o.status="ended",o.index=Self.data(e,"oldIndex"),o.callback&&(Self.callbackData(),o.callback(data)))},Self.preload=function(){var e=new Image;o.digits<(o.setLength-1)*o.incrementer+parseInt(o.firstThumbnail,10)?(o.digits=o.digits+o.incrementer,o.index++):(o.digits=parseInt(o.firstThumbnail,10),o.index=0),o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:-1!==o.testString?o.currentUrl=o.digitsPreffix+o.digits+"("+o.matches[1]+")"+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,e.onerror=function(){Self.endFlip()},e.onload=function(){o.active&&(timer="running"!==o.status?window.setTimeout(Self.flipImage,0):window.setTimeout(Self.flipImage,o.interval))},e.src=o.currentUrl},Self.flipImage=function(e){window.clearTimeout(timer),o.currentImage.src=o.currentUrl,o.status="running",o.callback&&(Self.callbackData(),o.callback(data)),void 0!==e&&(o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()),Self.preload()},Self.jumpTo=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,o.currentImage.src=o.currentUrl,o.callback&&(Self.callbackData(),o.callback(data))},Self.changeIndex=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()},Self.pauseFlip=function(){window.clearTimeout(timer),o.status="paused"}};
var MG_Scroll={init:function(e){MG_Scroll._isPlainObject(e)&&MG_Scroll._setupElements(MG_Scroll._extend({},{width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0,alwaysVisible:!0,disableFadeOut:!0,railVisible:!0,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"scrollRail",barClass:"scrollBar",wrapperClass:"scrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",selector:null,horizontal:!1},e))},_extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var l in arguments[t])arguments[t].hasOwnProperty(l)&&(e[l]=arguments[t][l]);return e},_fadeIn:function(e){var t,l=10*MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){l<4?(l++,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},50)},_fadeOut:function(e){var t,l=10*MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){0<l?(l--,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},100)},_closestClassElement:function(e,t){for(;e.className!=t;)if(!(e=e.parentNode))return null;return e},_getStyle:function(e,t){return window.getComputedStyle?getComputedStyle(e,"")[t]:e.currentStyle?e.currentStyle[t]:void 0},_isPlainObject:function(e){var t;if(!e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!core_hasOwn.call(e,"constructor")&&!core_hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!0}if(jQuery.support.ownLast)for(t in e)return core_hasOwn.call(e,t);for(t in e);return void 0===t||core_hasOwn.call(e,t)},isWindow:function(e){return e&&(e===function(){return this}()||e.eval&&e.eval.call&&e.eval("this === (function(){ return this })()"))||!1},_makeUnselectable:function(e){"string"==typeof e&&(e=document.getelentById(e)),e&&(e.onselectstart=function(){return!1},e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.unselectable="on")},_getOffset:function(e,t){var l=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle&&e.ownerDocument.defaultView.getComputedStyle(e,null),o=l&&l.getPropertyValue(t?"height":"width")||"";return o=o&&-1<o.indexOf(".")?parseFloat(o)+parseInt(l.getPropertyValue(t?"padding-top":"padding-left"))+parseInt(l.getPropertyValue(t?"padding-bottom":"padding-right"))+parseInt(l.getPropertyValue(t?"border-top-width":"border-left-width"))+parseInt(l.getPropertyValue(t?"border-bottom-width":"border-right-width")):t?e.offsetHeight:e.offsetWidth},_outerHeight:function(e){var t=MG_Scroll._getOffset(e,!0),l=MG_Scroll._getStyle(e,"marginTop"),o=MG_Scroll._getStyle(e,"marginBottom");return t+=parseInt(l)+parseInt(o)},_outerWidth:function(e){var t=MG_Scroll._getOffset(e),l=MG_Scroll._getStyle(e,"marginLeft"),o=MG_Scroll._getStyle(e,"marginRight");return t+=parseInt(l)+parseInt(o)},_wrap:function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},_setupElements:function(e){el=e.selector;for(var t=0;t<el.length;t++)MG_Scroll._processElement(el[t],e)},_processElement:function(e,h){var o,t,r,l,n,u,i,a,s,d,c,f,p=30,y=!1,g=e;if(MG_Utils.hasClass(g.parentNode,h.wrapperClass)){var _,m,v=h.horizontal?g.scrollLeft:g.scrollTop,w=(MG_Utils.children(g.parentNode),document.querySelectorAll("."+h.barClass)[0]),M=document.querySelectorAll("."+h.railClass)[0];if(G(),MG_Scroll._isPlainObject(h)){if(!h.horizontal&&"height"in h&&"auto"==h.height?(g.parentNode.style.height="auto",g.style.height="auto",_=g.parentNode.parentNode.style.height,g.parentNode.style.height=_,g.style.height=_):"height"in h&&(m=h.height,g.parentNode.style.height=m,g.style.height=m),"scrollTo"in h)v=parseInt(h.scrollTo);else if("scrollBy"in h)v+=parseInt(h.scrollBy);else if("bottom"===h.start)v=5e3;else if("destroy"in h)return;b(v,!1,!0)}}else{MG_Scroll._isPlainObject(h)&&"destroy"in h||(h.horizontal?h.height="auto"==h.height?g.parentNode.clientHeight:h.height:h.width="auto"==h.width?g.parentNode.clientWidth:h.width,(i=document.createElement("div")).className+=h.wrapperClass,i.style.position="relative",i.style.overflow="hidden",i.style.width=h.width,i.style.height=h.height,g.style.overflow="hidden",g.style.width=h.width,g.style.height=h.height,(M=document.createElement("div")).className+=h.railClass,M.style.position="absolute",M.style.display=h.alwaysVisible&&h.railVisible?"block":"none",M.style.borderRadius=h.railBorderRadius,M.style.background=h.railColor,M.style.opacity=h.railOpacity,M.style.zIndex=90,h.horizontal?(M.style.width="100%",M.style.height=h.size,M.style.bottom=0):(M.style.width=h.size,M.style.height="100%",M.style.top=0),(w=document.createElement("div")).className+=h.barClass,w.style.background=h.color,w.style.position="absolute",w.style.opacity=h.opacity,w.style.display=h.alwaysVisible?"block":"none",w.style.borderRadius=h.borderRadius,w.style.BorderRadius=h.borderRadius,w.style.MozBorderRadius=h.borderRadius,w.style.WebKitBorderRadius=h.borderRadius,w.style.zIndex=99,h.horizontal?(w.style.height=h.size,w.style.left=0,w.style.bottom=0):(w.style.top=0,w.style.width=h.size,"right"==h.position?(M.style.right=0,w.style.right=0):(M.style.left=0,w.style.left=0)),MG_Scroll._wrap(g,i),g.parentNode.appendChild(w),g.parentNode.appendChild(M),h.railDraggable&&(d=s="",c=g.clientHeight,MG_Utils.addEventHandler(g,"touchstart",function(e){s=h.horizontal?e.touches[0].clientX:e.touches[0].clientY,d=h.horizontal?parseInt(w.style.left):parseInt(w.style.top)}),MG_Utils.addEventHandler(g,"touchmove",function(e){var t=h.horizontal?e.touches[0].clientX:e.touches[0].clientY,l=s+d-t;0<=l&&l<=c&&e.cancelable&&(e.preventDefault(),e.stopPropagation()),b(l,!0,!0)},!1),MG_Utils.addEventHandler(w,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,r=!0;var l=h.horizontal?e.clientX:e.clientY,o=h.horizontal?parseInt(w.style.left):parseInt(w.style.top);function t(e){var t=h.horizontal?e.clientX:e.clientY;b(o+t-l,!0,!0)}return MG_Utils.addEventHandler(document,"mousemove",t),MG_Utils.addEventHandler(document,"mouseup",function(e){r=!1,I(),MG_Utils.removeEventHandler(document,"mousemove",t)}),!1})),MG_Utils.addEventHandler(M,"mouseenter",function(){z()}),MG_Utils.addEventHandler(M,"mouseleave",function(){I()}),MG_Utils.addEventHandler(w,"mouseenter",function(){t=!0,h.horizontal?w.style.height="10px":w.style.width="10px"}),MG_Utils.addEventHandler(w,"mouseleave",function(){t=!1,h.horizontal?w.style.height=h.size:w.style.width=h.size}),MG_Utils.addEventHandler(g,"mouseenter",function(){o=!0,z()}),MG_Utils.addEventHandler(g,"mouseleave",function(){o=!1,I()}),G(),"bottom"===h.start?b(h.horizontal?g.offsetWidth-w.offsetWidth:g.offsetHeight-w.offsetHeight,!0,!0):"top"!==h.start&&(b(h.start,null,!0),h.alwaysVisible||(w.style.display="none")),f=g,MG_Utils.addEventHandler(f,"DOMMouseScroll",S,!1),MG_Utils.addEventHandler(f,"mousewheel",S,!1),this.showDefault=function(){z()})}function S(e){var t,l;o&&(t=0,(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),l=e.target||e.srcTarget||e.srcElement,MG_Scroll._closestClassElement(l,h.wrapperClass)==g.parentNode&&b(t,!0,!1),e.preventDefault&&!y&&e.preventDefault(),y||(e.returnValue=!1))}function b(e,t,l){y=!1;var o,r,n,i=e,a=h.horizontal?MG_Scroll._getOffset(g):MG_Scroll._getOffset(g,!0),s=h.horizontal?MG_Scroll._getOffset(w):MG_Scroll._getOffset(w,!0),d=a-s;function c(e){h.horizontal?w.style.left=e+"px":w.style.top=e+"px"}t&&(i=h.horizontal?parseInt(w.style.left)+e*parseInt(h.wheelStep)/100*s:parseInt(w.style.top)+e*parseInt(h.wheelStep)/100*s,i=Math.min(Math.max(i,0),d),c(i=0<e?Math.ceil(i):Math.floor(i))),l&&(c(e),(o=Math.min(Math.max(e,0),d))<=e&&c(o),e<=0&&c(0)),h.horizontal?(r=MG_Scroll._outerWidth(g),i=(u=parseInt(w.style.left)/(r-MG_Scroll._outerWidth(w)))*(g.scrollWidth-r),g.scrollLeft=i):(n=MG_Scroll._outerHeight(g),i=(u=parseInt(w.style.top)/(n-MG_Scroll._outerHeight(w)))*(g.scrollHeight-n),g.scrollTop=i),z(),I()}function G(){var e;e=h.horizontal?(a=Math.max(g.offsetWidth/g.scrollWidth*g.offsetWidth,p),w.style.width=a+"px",a==g.offsetWidth?"none":"block"):(n=Math.max(g.offsetHeight/g.scrollHeight*g.offsetHeight,p),w.style.height=n+"px",n==g.offsetHeight?"none":"block"),w.style.display=e}function z(){if(G(),clearTimeout(l),y=u==~~u&&h.allowPageScroll,h.horizontal){if(a>=g.offsetWidth)return void(y=!0)}else if(n>=g.offsetHeight)return void(y=!0);MG_Scroll._fadeIn(w),h.railVisible&&MG_Scroll._fadeIn(M)}function I(){h.alwaysVisible||(l=setTimeout(function(){h.disableFadeOut&&o||t||r||(MG_Scroll._fadeOut(w),MG_Scroll._fadeOut(M))},1500))}}};
var dropdown=function(){"use strict";var instance=null,dropdowns=[],id=0,dontProcess=!1;function Dropdown(options){var defaults={dropdownTrigger:"dropdownTrigger",dropdownWrapper:"dropdownWrapper",timeout:4e3,hideDelay:!0};this.options=MG_Utils.extendDefaults(defaults,options),this.wrapper=this.options.wrapper,this.selector=this.options.selector,this.additionalElements=document.querySelectorAll(eval(this.options.additionalElements)),this.triggers=this.wrapper.querySelectorAll("."+this.options.dropdownTrigger),this.dropdown=this.wrapper.querySelector("."+this.options.dropdownWrapper),this.hiddenValue=this.wrapper.querySelector('input[type="hidden"]'),this.activateCloseDelay=hideDelayed.call(this),this.closeCallback="function"==typeof this.options.closeCallback?this.options.closeCallback:"",_init.call(this)}function _init(){return!(!this.triggers||!this.dropdown)&&(!MG_Utils.hasClass(this.wrapper,"js_dropdownBound")&&(MG_Utils.addClass(this.wrapper,"js_dropdownBound"),_initEvents.call(this),_checkHiddenValue.call(this),void this.wrapper.setAttribute("data-dropdown-id",id++)))}function _initEvents(){var e=this;[].forEach.call(this.triggers,function(t){MG_Utils.addEventHandler(t,"click",function(t){_triggersHandler.call(e,t)})}),("string"==typeof this.selector&&".channelsAZ"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"channelsAZ"))&&("string"==typeof this.selector&&".alphabetFilter"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"alphabetFilter"))&&this.options.hideDelay&&this.activateCloseDelay(),MG_Utils.addEventHandler(this.dropdown,"click",function(t){_dropdownHandler.call(e,t)})}function _nextDivSibling(t){for(;(t=t.nextSibling)&&1!==t.nodeType&&t.tagName&&"div"===t.tagName.toLowerCase(););return t}function _triggersHandler(t){var e=null;if(dontProcess)dontProcess=!1;else{var o=(t=t||window.event).target||t.srcElement;if(!MG_Utils.hasClass(o,this.options.dropdownTrigger))for(;(o=o.parentElement)&&!MG_Utils.hasClass(o,this.options.dropdownTrigger););var i=!1,n="withScroll"==this.dropdown.id?1:0;1==this.triggers.length?i=!(!this.dropdown.style.display||"none"===this.dropdown.style.display):1<this.triggers.length&&(i=!(!this.dropdown.style.display||"none"===this.dropdown.style.display)&&this.dropdown.getAttribute("data-type")==o.getAttribute("data-type")),i?(this.dropdown.style.display="none",n&&(e=_nextDivSibling(this.dropdown))&&void 0!==e.style&&(e.style.display="none")):(dropdowns.forEach(function(t){t.dropdown.style.display="none"}),o.getAttribute("data-type")&&(this.dropdown.getAttribute("data-type"),o.getAttribute("data-type")),this.dropdown.style.display="block",_notificationPosition.call(this,t))}}function _notificationPosition(t){var e,o,i,n,r,s=t.target||t.srcElement;"notificationIcons"!=s.parentNode.getAttribute("id")&&"notificationIcons"!=s.parentNode.parentNode.getAttribute("id")||(e=s.querySelector("i")||s.parentNode.querySelector("i"),i=(o=document.querySelector("#notificationBox")).clientWidth/2,n=MG_Utils.offset(e).left,r=e.clientWidth/2,o.style.left=Math.round(n-i+r)+"px")}function _dropdownHandler(t){var e=(t=t||window.event).target||t.srcElement;if("li"!==e.tagName.toLowerCase())for(;(e=e.parentElement)&&"li"!==e.tagName.toLowerCase(););this.setItem(e)}function _checkHiddenValue(){this.hiddenValue&&this.hiddenValue.length&&""!=this.hiddenValue.value&&(_selectActiveItem.call(this)||setTimeout(function(){_selectActiveItem.apply(context)},1e3))}function _selectActiveItem(){var t=this.dropdown.querySelector('li[data-value="'+this.hiddenValue_.value+'"]');if(!t.length)return!1;MG_Utils.triggerEvent(t,"click"),dontProcess=!0}Dropdown.prototype={constructor:Dropdown,setItem:function(t){var e,o=this.wrapper.querySelector(".dropdownTrigger .textFilter");if(isNaN(t)||(0|(e=parseFloat(t)))!==e||(t=this.dropdown.querySelectorAll("li")[t]),!("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName))return!1;MG_Utils.removeClassMultiple(this.dropdown.querySelectorAll("li"),"active"),MG_Utils.addClass(t,"active"),o&&MG_Utils.setText(o,t.textContent||t.innerText),this.hiddenValue&&(this.hiddenValue.value=t.getAttribute("data-value"))}};var hideDelayed=function(){var i=this;function o(){i.dropdown.getAttribute("data-hideDelayedTimeoutId")&&(clearTimeout(parseInt(MG_Utils.getData(i.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(i.dropdown,"hideDelayedTimeoutId",""))}return function(){for(var t=[],e=0;e<=i.triggers.length-1;e++)t.push(i.triggers[e]);t.push(i.dropdown),t.forEach(function(t){MG_Utils.addEventHandler(t,"mouseenter",function(t){MG_Utils.setData(i.dropdown,"hideDelayedOver","1"),o(i.dropdown)}),MG_Utils.addEventHandler(t,"mouseleave",function(t){MG_Utils.setData(i.dropdown,"hideDelayedOver","0"),o(i.dropdown);var e=setTimeout(function(){!function(){if("0"==MG_Utils.getData(i.dropdown,"hideDelayedOver")){for(var t,e=[],o=0;o<=i.additionalElements.length-1;o++)e.push(i.additionalElements[o]);e.push(i.dropdown),e.forEach(function(t){t.style.display="none"}),!document.getElementById("withScroll")||(t=_nextDivSibling())&&void 0!==t.style&&(t.style.display="none"),"function"==typeof i.closeCallback&&i.closeCallback(),clearTimeout(parseInt(MG_Utils.getData(i.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(i.dropdown,"hideDelayedTimeoutId","")}}()},i.options.timeout);MG_Utils.setData(i.dropdown,"hideDelayedTimeoutId",e)})})}};return MG_Utils.addEventHandler(document,"click",function(t){var e=(t=t||window.event).target||t.srcElement;if(!MG_Utils.hasClass(e,"dropdownTrigger"))for(;(e=e.parentElement)&&!MG_Utils.hasClass(e,"dropdownTrigger"););dropdowns.forEach(function(t){return(!e||e.parentNode.querySelector(".dropdownWrapper")!==t.dropdown)&&void(t.dropdown.style.display="none")})}),{init:function(e,o){var o=o||{},t="object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName,i=e instanceof Array||t?e:document.querySelectorAll(e);[].forEach.call(i,function(t){o.wrapper=t,o.selector=e,(instance=new Dropdown(o)).triggers&&instance.dropdown&&dropdowns.push(instance)})},get:function(t){return dropdowns[t]}}}();
var autocompleteSearch=function(){"use strict";var t;function e(){return this.options=MG_Utils.extendDefaults({minLength:2,showDelay:400,showPornstars:!0,defaultType:"video",boldenResults:!0,typesListContainerId:"searchTypes",formId:"search_form",inputId:"searchInput",submitBtnId:"btnSearch",suggestionsListId:"searchSuggestions"},arguments[0]),this.types=this.options.types,this.placeholderData=this.options.placeholderData,this.typesList=document.getElementById(this.options.typesListContainerId),this.form=document.getElementById(this.options.formId),this.input=document.getElementById(this.options.inputId),this.submitBtn=document.getElementById(this.options.submitBtnId),this.suggestionsList=document.getElementById(this.options.suggestionsListId),this.typeSelected=document.getElementById("searchTypeSelected"),this.focusInput=focusSearchInput,this.currentType=null,this.cache=null,this.term=null,this.searchName=null,this.tempTerm=null,this.timeouts={autocomplete:{timer:null,value:null,name:null,matches:0}},t||function(){if(!this.input)return;(function(){(function(){var s=this.typesList.innerHTML;this.types.forEach(function(t){var e=t.className||t.name;s+='<li class="'+e+'" data-search-type="'+t.name+'"><i class="'+e+'"></i><span>'+t.name+"</span></li>"}),this.typesList.innerHTML=s}).call(this),dropdown.init("#searchTypeWrapper"),function(){var t=function(){for(var t=0;t<this.types.length;t++)if(this.types[t].testTypePattern==this.options.defaultType)return this.types[t]}.call(this),e=window.location.pathname,s=e.split("/")[1];if(s){var i;"gay"!=s&&"shemale"!=s||("gifs"==(i=e.split("/")[2])?s="gifs":"pornstars"==i&&(s="pornstars")),"user"==s&&"welcome"==e.split("/")[2]&&(s="");for(var a=0;a<this.types.length;a++)this.types[a].testTypePattern==s&&"edit"!=e.split("/")[2]&&(t=this.types[a])}this.currentType=t}.call(this),this.setType(),function(){var i=this;MG_Utils.children(i.typesList).slice(1).forEach(function(t){MG_Utils.addEventHandler(t,"click",function(t){var e=(t=t||window.event).target||t.srcElement;if("li"!==e.nodeName.toLowerCase()){for(var s=e;(s=s.parentElement)&&"li"!==s.nodeName.toLowerCase(););e=s}i.setType(e.getAttribute("data-search-type")),i.typesList.focus(),a.call(i,t)})})}.call(this)}).call(this),this.focusInput?this.input.focus():this.input.blur(),function(){var e=this;(function(){var e=this;MG_Utils.addEventHandler(this.input,"keyup",function(t){a.call(e,t)}),MG_Utils.addEventHandler(this.input,"keypress",function(t){var e=t.keyCode?t.keyCode:t.charCode;if(60==e||62==e)return!1}),MG_Utils.addEventHandler(this.input,"keydown",function(t){(function(t){var e,s=t.keyCode?t.keyCode:t.charCode,i=this.suggestionsList.querySelectorAll("li"),a=this.suggestionsList.querySelector(".selected");a=a||i[0];if(40!=s&&38!=s)return;MG_Utils.removeClassMultiple(i,"selected"),40==s?e=a.length||a!==i[i.length-1]?a.nextElementSibling||MG_Utils.nextElementSibling(a):i[0]:38==s&&(e=a.length||a!==i[0]?a.previousElementSibling||MG_Utils.previousElementSibling(a):i[i.length-1]);MG_Utils.addClass(e,"selected"),e.getAttribute("data-value")?(this.input.value=e.getAttribute("data-value"),this.term=this.input.value):this.input.value=this.tempTerm}).call(e,t)}),MG_Utils.addEventHandler(this.input,"click",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(this.suggestionsList,"click",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(document.body,"click",function(t){e.suggestionsList.style.display="none"})}).call(this),MG_Utils.addEventHandler(this.submitBtn,"click",function(t){c.call(e,t)}),MG_Utils.addEventHandler(this.form,"submit",function(t){c.call(e,t)})}.call(this),t=this}.call(this),t}function c(t,e){var s=this.input.value.replace(/^[ \t]+|[ \t]+$/gi,""),i=this.input.getAttribute("placeholder"),a=this.suggestionsList.querySelector(".selected");if(""!=s&&s!=i){if(a&&(MG_Utils.hasClass(a,"pornstar")||MG_Utils.hasClass(a,"channel")))return MG_Utils.triggerEvent(a,"click"),t.preventDefault?t.preventDefault():t.returnValue=!1,!1;var n,s=s.toLowerCase();if("gay"==(s=(s=encodeURIComponent(s)).replace(/%20/g,"+"))){switch(this.currentType.newUrl="gay",this.currentType.name.toLowerCase()){case"photos":n="albums/"+this.currentType.newUrl;break;case"pornstars":case"gifs":n=this.currentType.newUrl+"/"+this.currentType.name;break;case"members":n="user/search?gender=1&orientation=1";break;case"video":n="gayporn";break;case"cam models":n="live?s=gay";break;default:n="gayporn"}window.location="/"+n}else{n=void 0!==e&&"Pornstars"===e?this.currentType.submitUrlVideo+s:this.currentType.submitUrl+s,window.location=n}}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function a(t){var e=RegExp(/[\<\>]/gi),s=this.input.value.match(e),i=this.input.value.replace(e,""),a=t.keyCode?t.keyCode:t.charCode,n=this,l=this.input.value.trim(),r=this.currentType.name,o=!1;if("38"==a||"40"==a||"13"==a)return!1;if(this.term&&this.term==l&&this.searchName==this.currentType.name)return!1;if(s&&(this.input.value=i),"13"!=a||"undefined"!=typeof arrowKeysSelected||MG_Utils.hasClass(this.form,"onHold")||"hd"==this.input.value.toLowerCase()&&"video"==this.currentType.name&&(window.location="/hd"),this.term=l,this.tempTerm=l,this.searchName=this.currentType.name,!this.currentType.autocompleteUrl)return!1;for(var u in this.cache=this.input.getAttribute("data-autocomplete-cache")||{},"object"!=typeof this.cache&&(this.cache=JSON.parse(this.cache)),void 0===this.cache[r]&&(this.cache[r]={}),this.cache[r])this.term==u&&(response(this.cache[r][u]),o=!0);if(o)return!1;this.input.value.length<this.options.minLength?(this.timeouts.autocomplete.value="",clearTimeout(this.timeouts.autocomplete.timer),this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none"):this.input.value==this.timeouts.autocomplete.value&&this.currentType.name==this.timeouts.autocomplete.name||(this.timeouts.autocomplete.value=this.input.value,clearTimeout(this.timeouts.autocomplete.timer),"user"!=this.currentType.autocompleteUrl&&(this.timeouts.autocomplete.timer=setTimeout(function(){MG_Utils.ajaxGet({url:n.currentType.autocompleteUrl,data:{pornstars:n.options.showPornstars,token:n.input.getAttribute("data-token"),orientation:n.input.getAttribute("data-orientation"),q:n.input.value,alt:0},success:function(t){(function(t){0==this.timeouts.autocomplete.matches&&(this.suggestionsList.style.display="none");this.suggestionsList.innerHTML="";(function(t){var e=!1,s=this;if(t instanceof Array&&t.length){for(var i in this.timeouts.autocomplete.matches=t.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Suggestions</a></li>'),t)MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t[i]):t[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}else{if(t.pornstars instanceof Array&&t.pornstars.length&&"Pornstars"==this.currentType.name){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Pornstar profiles</a></li>'),t.pornstars)t.pornstars.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item pornstar" data-slug="'+t.pornstars[i].slug+'" data-value="'+t.pornstars[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.pornstars[i].name):t.pornstars[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.pornstars[i].rank+"</span></a></li>");this.suggestionsList.addEventListener("click",function(t){var e,s=MG_Utils.closest(t.target,"li");MG_Utils.hasClass(s,"pornstar")&&(e=s.getAttribute("data-slug"),location.href="/pornstar/"+e)},!1),e=!0}if(t.queries instanceof Array&&t.queries.length)if("photos"==this.currentType.name){if(t.albums instanceof Array&&0<t.albums.length){for(var i in this.timeouts.autocomplete.matches=t.albums.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>"),t.queries)t.albums.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.albums[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t.albums[i]):t.albums[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}}else{var a="Pornstars"==this.currentType.name?"video":this.currentType.name;for(var i in this.timeouts.autocomplete.matches=t.queries.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+a.capitalize()+" results</a></li>"),t.queries)t.queries.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.queries[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t.queries[i]):t.queries[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){t.addEventListener("click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t,s.currentType.name)})}),e=!0}if(t.pornstars instanceof Array&&t.pornstars.length&&"Pornstars"!=this.currentType.name){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Pornstar profiles</a></li>'),t.pornstars)t.pornstars.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item pornstar" data-slug="'+t.pornstars[i].slug+'" data-value="'+t.pornstars[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.pornstars[i].name):t.pornstars[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.pornstars[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".pornstar"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/pornstar/"+t})}),e=!0}if(t.channels instanceof Array&&t.channels.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Channels</a></li>'),t.channels)t.channels.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item channel" data-slug="'+t.channels[i].slug+'" data-value="'+t.channels[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.channels[i].name):t.channels[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.channels[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".channel"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/channels/"+t})}),e=!0}if(1==showStreamate&&t.streamates instanceof Array&&t.streamates.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Cam Models</a></li>'),t.streamates)t.streamates.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item streamate" data-slug="'+t.streamates[i].slug+'" data-value="'+t.streamates[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.streamates[i].name):t.streamates[i].name)+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".streamate"),function(t){MG_Utils.addEventHandler(t,"click",function(){s.input.value=this.textContent||this.innerText;var t=this.getAttribute("data-slug");location.href="/live/"+t})}),e=!0}}return e}).call(this,t)?this.suggestionsList.style.display="block":(this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none")}).call(n,t)}})},this.options.showDelay)))}function h(t){var e=this.input.value,s=t.search(RegExp(""+e,"i"));if(0<=s){e=e.toLowerCase();for(var i=t.split(/\s|_/),a=0;a<i.length;a++)i[a]=i[a].substr(0,1).toUpperCase()+(1<i[a].length?i[a].substr(1,i[a].length).toLowerCase():"");t=(t=i.join(" ")).slice(0,s)+'<span class="soughtValue">'+e+"</span>"+t.slice(s+e.length)}return t}return e.prototype={constructor:e,setType:function(t){"string"==typeof t&&(this.currentType=this.getType(t)),this.typeSelected.setAttribute("data-search-type",this.currentType.className||this.currentType.name),this.input.setAttribute("placeholder",function(){switch(this.currentType.className.replace(/\s/g,"").toLowerCase()){case"photos":return this.placeholderData.photos;case"members":return this.placeholderData.members;case"pornstars":return this.placeholderData.pornstars;case"gifs":return this.placeholderData.gifs;case"cammodels":return this.placeholderData.cams;default:return this.placeholderData.videos}}.call(this)),this.typeSelected.querySelector("i").className=this.currentType.className||this.currentType.name,this.typesList.style.display="none"},getType:function(t){t=t||this.typeSelected.getAttribute("data-search-type");for(var e=0;e<this.types.length;e++)if(this.types[e].name==t)return this.currentType=this.types[e],this.currentType}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e}();
"object"!=typeof console&&(console={log:function(){},warn:function(){},error:function(){},info:function(){}});var createPlaylistModal,disablePlaylistPlusButon="false",createPlaylistModalContent=document.getElementById("create-playlist-modal");createPlaylistModalContent&&(createPlaylistModal=new MG_Modal({content:createPlaylistModalContent,className:"createPlaylistContainer"}));var friendRequestModal,tooltipPromoButton,tooltipPromoContent,tooltipPromoRemove,friendRequestModalContent=document.getElementById("friendRequestModal");function appendedTasteProfile(e){var t=document.getElementById(e);if(t&&storageAvailable("localStorage")&&localStorage.tasteCategories)return t.value=localStorage.getItem("tasteCategories")}function scrollToElement(e,t){for(var o=document.body.scrollTop,e=document.querySelector(e),l=MG_Utils.offset(e).top,a=o;a<l;a+=t)document.body.scrollTop=a}function getCookie(e){for(var t,o,l=document.cookie.split(";"),a=0;a<l.length;a++)if(t=l[a].substr(0,l[a].indexOf("=")),o=l[a].substr(l[a].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function setCookie(e,t,o){var l=new Date;l.setDate(l.getDate()+o);var a=escape(t)+(null==o?"":"; expires="+l.toUTCString());document.cookie=e+"="+a}function builtModal(e,t,o,l,a,i){void 0!==friendRequestModal&&friendRequestModal.openModal();var r=document.getElementById("messageRequest"),s=document.getElementById("preventClick"),n=document.getElementById("friendRequestForm"),c=document.getElementById("fromPic");userId=document.getElementById("friendRequestUserId"),elements=document.querySelectorAll(".request-modal .last"),s.setAttribute("data-refresh",i),s.setAttribute("data-user-id",e),n.setAttribute("action",a),c.setAttribute("src",t);var d="<a href='"+l+"'></a>",u=document.createElement("div");for(u.innerHTML=d;u.firstChild;){var m=u.firstChild;c.parentNode.insertBefore(m,c),m.appendChild(c)}r.value=r.getAttribute("data-val"),MG_Utils.setText(userId,e);for(var f=0;f<elements.length;f++)elements[f].innerHTML='You are about to add <a href="'+l+'"> '+o+' </a> as a friend. We will then notify <a href="'+l+'"> '+o+" </a> who will then confirm that you are friends."}function recal(){var e=document.getElementById("messageRequest"),t=document.getElementById("chars_left"),o=1e3-e.value.length;t.innerHTML=Math.max(o,0)+" characters left.",o<0&&MG_Utils.appendString(t,' <span style = "color: #F00">You have over 1000 characters.<br />Anything past 1000 will get chopped off.</span>')}function getUrlVars(){var l={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,o){l[t]=o}),l}function nl2br(e){return e.replace(/\n/g,"<br />")}function strpos(e,t,o){var l=(e+"").indexOf(t,o||0);return-1!==l&&l}function updateQueryStringParameter(e,t,o){var l=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(l)?e.replace(l,"$1"+t+"="+o+"$2"):e+a+t+"="+o}function initTooltip(){var l=document.getElementById("tooltip");function a(e,t){l.style.left=t.left-l.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",l.style.left=parseFloat(l.style.left)<0?"0":l.style.left,l.classList.remove("tooltipSmall"),l.style.width="auto"}l&&(document.body.addEventListener("mouseenter",function(e){var t,o=e.target;o&&MG_Utils.hasClass(o,"tooltipTrig")&&(t=o.getAttribute("data-title"),l.innerHTML="<div class='tooltip-sub'>"+t+" </div></div><div class='arrow-down'></div>",l.style.display="block",MG_Utils.addClass(l,o.getAttribute("type")),function(e){var t;t=MG_Utils.offset(e),l.style.left=t.left-l.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",window.onresize=function(){l.style.left=0},e.classList.contains("pornstarPrev")&&parseFloat(l.style.left)<-3?(l.classList.add("tooltipSmall"),l.style.width=l.clientWidth+parseFloat(l.style.left)-14+"px",l.style.left="0"):a(e,t);l.style.top=t.top-l.clientHeight-l.querySelector(".arrow-down").clientTop+"px"}(o))},!0),document.body.addEventListener("mouseleave",function(e){var t=e.target;t&&MG_Utils.hasClass(t,"tooltipTrig")&&(l.style.display="none")},!0))}function tooltipPromo(){var e=tooltipPromoButton?MG_Utils.offset(tooltipPromoButton):null;e&&tooltipPromoContent&&(tooltipPromoContent.style.left=e.left-(tooltipPromoContent.clientWidth-tooltipPromoButton.clientWidth)/2+"px",tooltipPromoContent.style.top=e.top+7+"px",tooltipPromoContent.style.opacity="1")}function renderCommentLinks(){for(var e,t=document.querySelectorAll(".commentUsernameLink"),o=0;o<t.length;o++)e=t[o],MG_Utils.hasClass(e,"processed")||(MG_Utils.addClass(e,"processed"),e.getAttribute("data-href")?e.innerHTML='<a href="'+e.getAttribute("data-href")+'">@'+e.getAttribute("data-username")+"</a>":e.innerHTML="<span>@"+e.getAttribute("data-username")+"</span>");var l=document.querySelectorAll(".js_taggable");if(0<l.length){for(o=0;o<l.length;o++)MG_Utils.empty(l[o]);friendList=[]}}friendRequestModalContent&&(friendRequestModal=new MG_Modal({content:friendRequestModalContent,className:"friendRequestContainer"})),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,l;if(null==this)throw new TypeError(" this is null or not defined");var a,i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(o=t),l=0;l<r;){l in i&&(a=i[l],e.call(o,a,l,i)),l++}}),document.querySelector(".tooltipPromo")&&document.querySelector("#headerUpgradePremiumBtn")&&(tooltipPromoButton=document.querySelector("#headerUpgradePremiumBtn"),tooltipPromoRemove=(tooltipPromoContent=document.querySelector(".tooltipPromo")).querySelector("span"),MG_Utils.addEventHandler(tooltipPromoRemove,"click",function(e){e.stopPropagation(),setCookie("promoTooltip","1"),tooltipPromoContent.remove()}),MG_Utils.addEventHandler(window,"load",tooltipPromo),MG_Utils.addEventHandler(window,"resize",tooltipPromo));var blurTimeout="";function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_Utils.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),o=e.querySelectorAll(".streamSections");MG_Utils.addClass(t,"focusReply"),MG_Utils.addClass(t,"hidden"),MG_Utils.addClass(o,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var o=document.querySelectorAll(".streamTextArea");MG_Utils.setText(o,"");for(t=0;t<o.length;t++)MG_Utils.addEventHandler(o[t],"focus",function(e){var t=this.value,o=MG_Utils.closest(this,".streamSubmitInput"),l=MG_Utils.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),MG_Utils.addClass(o,"showme"),MG_Utils.addClass(l,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var t,o,l,a,i,r,e=document.querySelectorAll(".reply a"),s=0;s<e.length;s++)MG_Utils.addEventHandler(e[s],"click",function(e){e=e||window.event,t=MG_Utils.closest(this,".feedItemSection"),o=t.querySelector(".postingForm"),l=t.querySelector(".formAvatar"),a=t.querySelector(".formText"),i=a.querySelector("textarea"),r=a.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(o,"showme"),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(a,"showme"),MG_Utils.setText(i,""),MG_Utils.triggerEvent(i,"click"),MG_Utils.setText(r,commentPlaceholder),MG_Utils.addClass(r,"placeHolderText")})}function addShareExternal(e,t,o){var l,a,i,r,s,n,c,d,u,m,f,v;WIDGET_SHARE.shareButtonsLoaded?"function"==typeof e&&e():(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===o&&(o=WIDGET_SHARE.shareTitle),document.querySelectorAll("a.sharesTwitter")&&(a=(l=document.querySelectorAll("a.sharesTwitter")[0]).getAttribute("href"),l.setAttribute("href",updateQueryStringParameter(a,"text",encodeURIComponent(o)))),document.querySelectorAll("a.sharesReddit")&&(r=(i=document.querySelectorAll("a.sharesReddit")[0]).getAttribute("href"),i.setAttribute("href",updateQueryStringParameter(r,"title",encodeURIComponent(o)))),0<document.querySelectorAll("a.sharesTumblr").length&&(n=(s=document.querySelectorAll("a.sharesTumblr")[0]).getAttribute("href"),s.setAttribute("href",updateQueryStringParameter(n,"t",encodeURIComponent(o)))),document.querySelectorAll("a.sharesGooglePlusOne")&&(d=(c=document.querySelectorAll("a.sharesGooglePlusOne")[0]).getAttribute("href"),c.setAttribute("href",updateQueryStringParameter(d,"url",t))),document.querySelectorAll("a.sharesStubleUpon")&&(m=(u=document.querySelectorAll("a.sharesStubleUpon")[0]).getAttribute("href"),u.setAttribute("href",updateQueryStringParameter(m,"title",encodeURIComponent(o)))),document.querySelectorAll("a.sharesBlogger")&&(v=(f=document.querySelectorAll("a.sharesBlogger")[0]).getAttribute("href"),f.setAttribute("href",updateQueryStringParameter(v,"n",encodeURIComponent(o)))))}var modelNotificationList,VideoPreview=function(){"use strict";var u,m=300;function f(e,t,o){return e.style.opacity=t,e.style.width=o,e}function i(e){var a,i,t,o,l,r,s,n,c,d;MG_Utils.hasClass(e.target,"js-videoPreview")&&!MG_Utils.hasClass(e.target,"activeVideo")&&(a=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(a=MG_Utils.closest(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade"))&&(a=e.target.querySelector(".js-videoPreview")),a&&(i=a.parentNode,t=MG_Utils.closest(a,".phimage"),o=t?t.querySelector(".preloadLine"):void 0,l=function(){var e,t=document.createElement("div"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(void 0!==t.style[e])return o[e]}(),r=MG_Utils.hasClass(a,"js-menuSwap")?a.getAttribute("data-image"):a.getAttribute("data-mediumthumb"),s=t?t.querySelector(".privateOverlay"):void 0,n=i.querySelector(".watchedVideoText"),c=t?t.querySelector(".modelThumbnail"):void 0,d="undefined"!=typeof BrowserDetect&&"Safari"==BrowserDetect.browser,o&&f(o,1,"100%"),function(t){{var o,l,e,a,i,r,s;t&&-1===t.className.indexOf("loaded")&&(o=t.querySelector(".js-viewDetails"),l=t.querySelector(".modelThumbnailOverlay"),e=l.dataset.videoId,a=t.querySelector(".js-video-thumb-sold .amount"),i=t.querySelector(".js-video-thumb-earnings span"),r=t.querySelector(".spinner"),s=void 0!==s?s:"",MG_Utils.ajaxCall({url:MODEL_OVERLAY_THUMBNAIL.ajaxUrl,type:"POST",data:{video_id:e,token:s},dataType:"json",success:function(e){null!=e&&(t.className+=" loaded",a.innerHTML=e.sold,i.innerHTML=e.earned,o.href=e.url,MG_Utils.removeClass(l,"hidden"),r.className+=" hidden")}}))}}(c),!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)||MG_Utils.hasClass(a,"activeVideo")||i.querySelector(".videoPreviewEl")||s||(u=setTimeout(function(){n&&MG_Utils.addClass(n,"hide");var e,t,o,l=(e=a.getAttribute("data-mediabook"),t=r,(o=document.createElement("video")).autoplay=!0,o.className="videoPreviewEl",o.loop="loop",o.muted="muted",o.src=e,o.poster=t,o);l&&l.addEventListener("loadeddata",function(){MG_Utils.addClass(a,"activeVideo")}),i.appendChild(l),l&&d&&l.load()},m)),o&&l&&o.addEventListener(l,function(){o.style.opacity=0}))}function r(e){var t;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&MG_Utils.hasClass(e.target,"activeVideo")&&(t=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(t=closestElement(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo"))&&(t=e.target.querySelector(".js-videoPreview")),MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo")&&e.relatedTarget&&"IMG"!==e.relatedTarget.nodeName&&(t=e.target.querySelector(".js-videoPreview")),t){var o=t.parentNode,l=o.querySelectorAll(".videoPreviewEl"),a=MG_Utils.closest(t,".phimage"),i=a?a.querySelector(".preloadLine"):void 0,r=o.querySelector(".watchedVideoText"),s=document.querySelectorAll(".activeVideo");if(window.clearTimeout(u),i&&f(i,0,0),r&&MG_Utils.removeClass(r,"hide"),l.length&&[].forEach.call(l,function(e){e.parentNode.removeChild(e)}),s.length)for(var n=0;n<s.length;n++)MG_Utils.removeClass(s[n],"activeVideo")}}return{getTarget:function(){var e,t,o,l,a="undefined"!=typeof BrowserDetect&&"Safari"==BrowserDetect.browser;if(document.createElement("video").play&&(a||function(){var e=document.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t="maybe"==t.webm||"probably"==t.webm)}catch(e){console.log(e)}return t}()))return e=arguments[0],t=document.querySelectorAll("."+e),o=t.length,l=document.querySelector("body"),MG_Utils.addEventHandler(l,"mouseover",i),MG_Utils.addEventHandler(l,"mouseout",r),void(0<o&&MG_Utils.removeClassMultiple(t,"js-videoThumbFlip"));document.querySelector("body").addEventListener("mouseover",i)}}}();function removeProfileItem(e,t){var o={url:e,type:"POST"};MG_Utils.ajaxCall(o);var l=document.querySelectorAll("#"+t),a=MG_Utils.closest(l[0],".videoSection"),i=0;l[0].parentNode.removeChild(l[0]),0==document.querySelectorAll("#"+t).length&&(i+=1);var r,s,n=a.querySelectorAll(".showingInfo .totalSpan"),c=a.querySelectorAll(".showingInfo .videoSpan");(n||c)&&(2<=a.querySelectorAll(".showingInfo span").length&&(r=parseInt(c[0].textContent,10)),s=parseInt(n[0].textContent,10),vVideos=r,--vVideos,s-=i,n.length&&(n[0].innerHTML=s),c.length&&(c[0].innerHTML=vVideos))}function removeItem(e,t,o,l){var a={url:e,data:{id:t},type:"POST"};MG_Utils.ajaxCall(a);var i=document.querySelectorAll("#"+o);i[0].parentNode.removeChild(i[0])}function removeItemSimple(e,t){var o={url:e,type:"POST"};MG_Utils.ajaxCall(o);var l=document.querySelectorAll("#"+t);l[0].parentNode.removeChild(l[0])}0!=document.querySelectorAll("#modelNotificationList").length&&(modelNotificationList=(modelNotificationList=document.querySelectorAll("#modelNotificationList"))[0].innerHTML);var myInt,cacheAjaxNotif=[],offset=[5,5,5],limit=5,scrollLimit=[0,0,0];function htmlspecialchars_decode(e){return"string"==typeof e&&(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&quot;/g,'"')).replace(/&#039;/g,"'")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")),e}function createMailAlert(e){var t,o;(e.lastMessageIdReceived||e.lastMessageSent)&&"0000-00-00 00:00:00"!=e.lastAction&&(e.profileSpammer||(t="",e.lastMessageIdReceived&&e.lastMessageIdSent>e.lastMessageIdReceived?(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent):e.lastMessageIdReceived?(e.lastMessageReceived=e.lastMessageReceived,t=e.lastMessageReceived):e.lastMessageIdSent&&(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent),t=(t=escapeHtml(unEscapeHtml(t))).replace(/{{phTransactionIcon}}/g,'<i class="transactionIcon"></i>'),o=(o=document.querySelectorAll("ul#modelNotificationList > li.messageTemplate"))[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(o),MG_Utils.removeClass(o,"messageTemplate"),MG_Utils.addClass(o,e.status),MG_Utils.addClass(o,"newElement"),document.querySelectorAll(".newElement")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement .js-messageLink")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement img")[0].setAttribute("src",e.profileImage),document.querySelectorAll(".newElement .from")[0].innerHTML=e.profileUsername,document.querySelectorAll(".newElement .userProfileLink")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .userProfileLink.from")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .message")[0].innerHTML=t,document.querySelectorAll(".newElement .date")[0].innerHTML=e.lastActionNice,e.isFanClubChat&&(document.querySelectorAll(".newElement .js-iconPlaceHolder")[0].className+=" fanOnlyIcon"),e.hasTransaction&&(document.querySelectorAll(".newElement .js-transactionIconPlaceHolder")[0].className+=" transactionIcon"),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(o,"newElement")))}function createfriendRequestAlert(e,t,o,l,a,i,r,s){var n="manageRequest("+r+", 1, '"+o+"', '"+l+"')",c="manageRequest("+r+", 0, '"+o+"', '"+l+"')",d=s?"checked":"unchecked",u=(u=document.querySelectorAll("ul#modelNotificationList > li.friendRequestTemplate"))[0].cloneNode(!0);document.querySelectorAll("ul#modelNotificationList")[0].appendChild(u),MG_Utils.removeClass(u,"friendRequestTemplate"),MG_Utils.addClass(u,"newElement"),u.setAttribute("id","request_"+r),document.querySelectorAll(".newElement img")[0].setAttribute("src",e),document.querySelectorAll(".newElement .profileLink")[0].setAttribute("href",l),document.querySelectorAll(".newElement .from .profileLink")[0].setAttribute("href",l),document.querySelectorAll(".newElement .from .profileLink")[0].innerHTML=o,"1"==t?initTooltip():document.querySelectorAll(".newElement .verifiedUser")[0].style.display="none",document.querySelectorAll(".newElement .message")[0].innerHTML=a,document.querySelectorAll(".newElement .date")[0].innerHTML=i,document.querySelectorAll(".newElement button.confirm")[0].setAttribute("onclick",n),document.querySelectorAll(".newElement button.reject")[0].setAttribute("onclick",c),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute("id","autoSubscribe_"+r),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute(d,d),document.querySelectorAll(".newElement .subscribeConfirm label")[0].setAttribute("for","autoSubscribe_"+r),s&&MG_Utils.addClass(document.querySelectorAll(".newElement .subscribeConfirm .fakeCheckBox ")[0],"checked"),document.querySelectorAll(".newElement button.btnFlag")[0].setAttribute("data-userid",r),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(u,"newElement")}function noAlert(e){document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",0),document.querySelectorAll("ul#modelNotificationList > li")[0].style.display="none",document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="block",document.querySelectorAll("ul#modelNotificationList > li.noNewItem > span")[0].innerHTML=e}function insertNotificationContent(){document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="block";for(var e=document.querySelectorAll("#notificationBox")[0].getAttribute("type"),t=document.querySelectorAll("ul#modelNotificationList > li,.handle3, .track3"),o=t.length-1;0<=o;o--)t[o].style.display="none";function l(e){for(var t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(e){window.location.href=this.getAttribute("data-link")})}"messageContent"==e?(document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",messageViewAll),document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",messageViewAll),cacheAjaxNotif[0]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[0],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[3]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",l(document.querySelectorAll(".js-messageLink"))):MG_Utils.ajaxCall({type:"GET",data:{token:token},url:"/chat/threads?limit=5&reset=1",dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.jsonNonBlockedThreadsCount)noAlert("messages");else{for(var t in e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[3]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",l(document.querySelectorAll(".js-messageLink"))}}})):"requestContent"==e?(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",requestViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",requestViewAll),cacheAjaxNotif[1]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[1],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[4]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/user/ajaxGetFriendRequests",type:"GET",data:{limit:5,token:token},dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.count)noAlert("friend requests");else{for(var t=0;t<e.datas.length;t++)createfriendRequestAlert(e.datas[t].avatar_url,e.datas[t].verified,e.datas[t].username,e.datas[t].user_link,e.datas[t].message,e.datas[t].request_date,e.datas[t].user_id,e.autoSubscribeFriendRequestsReceived);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}})):"notifContent"==e&&(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",notifViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",notifViewAll),cacheAjaxNotif[2]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[2],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[5]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{limit:15,token:token},dataType:"json",success:function(e){var t,o=e.html;"REFRESH"==e?document.location.reload():e?(t=JSON.parse(JSON.stringify(o).replace("#*","").replace("*#","")),document.querySelectorAll("#modelNotificationList")[0].innerHTML+=t,document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),leaveModal()):noAlert("notifications"),cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[5]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}),leaveModal()),MG_Scroll.init({selector:document.querySelectorAll("#scrollNotif"),height:"auto",color:"#F39000",size:"7px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"#222",distance:-2,opacity:1,railClass:"track1",barClass:"handle1",wrapperClass:"wrapper1"}),initTooltip()}function leaveModal(){document.getElementById("fileupload")&&MG_Utils.hasClass(document.getElementById("fileupload"),"fileUploadPass")&&(LeavePageConfirmationModal.formChangedHandler(),LeavePageConfirmationPrompt.formChangedHandler())}function manageRequest(a,i,r,s){var n=document.querySelectorAll("#request_"+a)[0],c=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");url=i?"/user/ajax_accept_friend_request":"/user/ajax_reject_friend_request",url=url+"?token="+token,(1==i&&$j("#autoSubscribeHeader").is(":checked")||1==i&&$j("#autoSubscribe_"+a).is(":checked"))&&(url+="&subscribe=1"),MG_Utils.ajaxCall({url:url,type:"POST",data:{id:a},success:function(e){if("OK"==e){if(document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",c-1),i)MG_Utils.addClass(n,"accepted"),document.querySelectorAll("#request_"+a+" .action button")[0].setAttribute("disabled","disabled"),document.querySelectorAll("#request_"+a+" .action")[0].parentNode.removeChild(document.querySelectorAll("#request_"+a+" .action")[0]),document.querySelectorAll("#request_"+a+" .contentContainer")[0].innerHTML='You and <a href="'+s+'" style="font-weight:bold;">'+r+"</a> are now friends.";else{document.querySelectorAll("#request_"+a)[0].parentNode.removeChild(document.querySelectorAll("#request_"+a)[0]);for(var t=document.querySelectorAll("#modelNotificationList li"),o=0,l=t.length-1;0<=l;l--)"block"==t[l].style.display&&o++;0==o&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==o&&fetchData()}setTimeout(function(){cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")},600)}}})}function reportSpam(e){var a=document.querySelectorAll("#request_"+e)[0],i=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");MG_Utils.ajaxCall({url:"/user/ajax_friend_request_report?token="+token,type:"POST",data:{id:e,accept:-1},success:function(e){if("OK"==e){document.querySelectorAll("#tooltip")[0].style.display="none",document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",i-1),a.parentNode.removeChild(a);for(var t=document.querySelectorAll("#modelNotificationList li"),o=0,l=t.length-1;0<=l;l--)"block"==t[l].style.display&&o++;0==o&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==o&&fetchData(),setTimeout(function(){cacheAjaxNotif[1]=document.getElementById("modelNotificationList").innerHTML,cacheAjaxNotif[4]=document.getElementById("notificationBox").getAttribute("data-count")},600)}}})}function fetchData(){var o=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"requestContent"==o&&(urlToFetch="/user/ajaxGetFriendRequests",cachetoUse=1),scrollLimit[cachetoUse]||offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({type:"GET",data:{offset:offset[cachetoUse],limit:5,token:token},url:urlToFetch,dataType:"json",success:function(e){for(var t=0;t<e.datas.length;t++)"requestContent"==o&&createfriendRequestAlert(e.datas[t].avatar_url,e.datas[t].verified,e.datas[t].username,e.datas[t].user_link,e.datas[t].message,e.datas[t].request_date,e.datas[t].user_id,e.autoSubscribeFriendRequestsReceived);offset[cachetoUse]=offset[cachetoUse]+5,(offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[cachetoUse])&&(scrollLimit[cachetoUse]=1),setTimeout(function(){cacheAjaxNotif[cachetoUse]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initTooltip()},600)}})}function fetchDataMessages(){scrollLimit[0]||MG_Utils.ajaxCall({url:"/chat/threads",type:"GET",data:{limit:5,offset:offset[0],token:token},dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0!=e.jsonThreadsCount){for(var t in offset[0]=offset[0]+5,e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}e.jsonNonBlockedThreadsCount<5&&(scrollLimit[0]=1),setTimeout(function(){cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML},600)}}})}function fetchDataNotification(){scrollLimit[2]||offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{offset:offset[2],limit:15,token:token},dataType:"json",success:function(e){document.querySelectorAll("#modelNotificationList")[0].innerHTML+=e.html,offset[2]=offset[2]+5,(offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[2])&&(scrollLimit[2]=1),setTimeout(function(){cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initTooltip()},600)}})}function formSubmit(){var e=document.querySelectorAll("#friendRequestForm")[0],n=document.querySelectorAll("#preventClick")[0],c=n.getAttribute("data-user-id"),t={url:e.getAttribute("action"),data:{cancelRequest:document.querySelectorAll("#cancelRequest")[0].getAttribute("value"),messageRequest:document.querySelectorAll("#messageRequest")[0].value,subscribe:document.querySelectorAll("#auto_subscribe")[0].checked?1:0},type:"POST",beforeSend:function(){for(var e=document.querySelectorAll(".friend_"+c+" button")[0],t=e.children,o=t.length-1;0<=o;o--)MG_Utils.addClass(t[o],"visuallyHidden");e.innerHTML+='<span class="spinner" />'},success:function(e){void 0!==friendRequestModal&&friendRequestModal.closeModal();var t=document.querySelectorAll(".friend_"+c+" button")[0],o=document.querySelectorAll(".friend_"+c+" button .spinner"),l=t.children;o[0].parentNode.removeChild(o[0]);for(var a,i,r,s=l.length-1;0<=s;s--)MG_Utils.removeClass(l[s],"visuallyHidden");"SENT"==e.success&&(t.setAttribute("data-friends",1),a=document.querySelectorAll(".friend_"+c)[0],MG_Utils.removeClass(a,"removeFriend"),MG_Utils.removeClass(a,"add"),MG_Utils.addClass(a,"sent"),e.subscribed&&(i=document.querySelectorAll(".subscribe_"+c+" button")[0],r=document.querySelectorAll(".subscribe_"+c),i.setAttribute("data-subscribed",1),MG_Utils.removeClass(r[0],"subscribe"),MG_Utils.addClass(r[0],"unsubscribe"),document.querySelectorAll(".subscribe_"+c+" .buttonLabel")[0].innerHTML="Subscribed"),n&&1==n.getAttribute("data-refresh")&&location.reload(),document.querySelectorAll(".friend_"+c+" .buttonLabel")[0].innerHTML=e.text_initial)}};MG_Utils.ajaxCall(t)}function avatarPopupHandler(l,e){for(var t=document.querySelectorAll("."+l),a=MG_Utils.hasClass(document.querySelector("body"),"logged-out"),o=t.length-1;0<=o;o--)MG_Utils.addEventHandler(t[o],"mouseenter",function(e){var t=this,o=e.target||e.srcElement;for(mouseEnterAvatar(t,a,e);0==MG_Utils.hasClass(o,l);)o=o.parentNode;myInt=setInterval(function(){MG_Utils.hasClass(o,l)||(mouseLeaveAvatar(t,a,e),clearInterval(myInt))},3e3)}),MG_Utils.addEventHandler(t[o],"mouseleave",function(e){mouseLeaveAvatar(this,a,e),myInt&&clearInterval(myInt)})}var cache={},timeout={timer:null,el:null};function avatarLoad(){document.querySelectorAll(".avatarWrap")&&avatarPopupHandler("avatarWrap"),document.querySelectorAll(".usernameWrap")&&avatarPopupHandler("usernameWrap"),document.querySelectorAll(".userLink")&&avatarPopupHandler("userLink")}function mouseEnterAvatar(e,t,o){var i,l,a,r;0==MG_Utils.getData(e,"disable-popover")&&(l=(i=o.target).querySelectorAll(".avatarPosition"),(MG_Utils.hasClass(i,"avatarTrigger")&&""==l[0].innerHTML||MG_Utils.hasClass(i,"usernameWrap")&&""==l[0].innerHTML||MG_Utils.hasClass(i,"userLink"))&&(a=MG_Utils.getData(e,"type"),r=MG_Utils.getData(i,a+"id"),MG_Utils.addClass(i,"elementHovered"),timeout.timer&&clearTimeout(timeout.timer),timeout.el=e,timeout.timer=setTimeout(function(e){cache[r]?(i.querySelector(".avatarPosition").innerHTML=cache[r],MG_Utils.hasClass(i,"elementHovered")&&(i.querySelector(".avatarPopOver").style.display="block")):MG_Utils.ajaxCall({type:"POST",url:"/"+a+"/hover?id="+r,dataType:"html",context:this,success:function(e){var t,o=document.querySelectorAll(".avatarPopOver"),l=document.querySelector(".wrapper").offsetWidth;i.querySelector(".avatarPosition").innerHTML=e;for(var a=o.length-1;0<=a;a--)o[a].style.display="none";MG_Utils.hasClass(i,"elementHovered")&&(i.querySelector(".avatarPopOver").style.display="block",l<(t=document.querySelector(".avatarPopOver")).getBoundingClientRect().left+t.offsetWidth?MG_Utils.addClass(t,"popOverEdge"):MG_Utils.removeClass(t,"popOverEdge")),MG_Utils.hasClass(i,"elementHovered")&&(cache[r]=i.querySelector(".avatarPosition").innerHTML)}})},1e3)))}function mouseLeaveAvatar(e,t,o){var l,a,i;0==MG_Utils.getData(e,"disable-popover")&&(l=o.target,a=MG_Utils.getData(e,"type"),i=MG_Utils.getData(l,a+"id"),t&&e.querySelector(".avatarPosition").length&&(cache[i]=e.querySelector(".avatarPosition").innerHTML),e.querySelector(".avatarPopOver")&&(e.querySelector(".avatarPopOver").style.display="none"),timeout.timer&&clearTimeout(timeout.timer),MG_Utils.removeClass(e,"elementHovered"))}var fadeClickthroughEvent=function(){var e=document.querySelectorAll("#moreData, ul.videos-list, ul.videos, ul.popularSectionListPremium");[].forEach.call(e,function(e){e.addEventListener("mousedown",function(e){var t,o,l,a=e.target;(MG_Utils.hasClass(a,"fadeImage")||MG_Utils.hasClass(a,"fade"))&&(t=a.querySelector("a.img"),(l=(o=a.querySelector("a.selectVideoThumb"))?o.getAttribute("href"):t?t.getAttribute("href"):(a.querySelector("a")||a.parentElement).getAttribute("href"))&&(e.preventDefault(),1===e.which&&(window.location.href=l),2===e.which&&window.open(l,"_blank")))})})};function firstChild(e){if(!e.children.length)return null;if(e.firstElementChild)return e.firstElementChild;for(var t=0,o=e.children.length;t<=o;t++){var l=e.children[t];if(1===l.nodeType)return l}}MG_Utils.domReady(function(){var l,a,e,t,o,i;if(e=document.querySelector("#js-noticeWarningModal"),t=document.querySelector("#js-blackListModal"),e&&t&&(l=new MG_Modal({content:e,closeButton:!1,className:"noticeModal",closeDocument:!1}),a=new MG_Modal({content:t,closeButton:!1,className:"blackListModal",closeDocument:!1}),document.addEventListener("click",function(e){var t=e.target;(MG_Utils.hasClass(t,"js-closeBlackList")||MG_Utils.hasClass(t,"js-closeNotice"))&&(MG_Utils.hasClass(t,"js-closeBlackList")&&a.closeModal(),MG_Utils.hasClass(t,"js-closeNotice")&&l.closeModal())}),document.addEventListener("click",function(e){var t=e.target;if(!MG_Utils.hasClass(t,"js-ckeckExternalSource")){if(null==t.parentNode)return;if(!MG_Utils.hasClass(t.parentNode,"js-ckeckExternalSource"))return}e.preventDefault();var o=t.getAttribute("href")||t.parentNode.getAttribute("href");MG_Utils.ajaxCall({type:"POST",url:modalTranslationText.blackWhiteListUrl,data:{url:o},dataType:"json",success:function(e){try{switch(e.status){case"blacklist":return a.openModal(function(e,t){t.querySelector(".js-blackListInput").value=o});case"whitelist":return window.location.href=o;default:return l.openModal(function(e,t){t.querySelector(".js-noticeDivInput").value=o,t.querySelector(".js-extrnalLink").href=o})}}catch(e){console.log(e)}}})}),document.querySelector(".js-extrnalLink")&&document.addEventListener("click",function(e){MG_Utils.hasClass(e.target,"js-extrnalLink")&&l.closeModal()})),"undefined"!=typeof BrowserDetect){switch(BrowserDetect.browser){case"Opera":MG_Utils.addClass(document.documentElement,"opera");break;case"Safari":MG_Utils.addClass(document.documentElement,"safari");break;case"Firefox":MG_Utils.addClass(document.documentElement,"firefox");break;case"Chrome":MG_Utils.addClass(document.documentElement,"chrome");break;case"Explorer":MG_Utils.addClass(document.documentElement,"ie")}"Explorer"==BrowserDetect.browser&&10==BrowserDetect.version&&MG_Utils.addClass(document.documentElement,"ie10"),!navigator.userAgent.match(/Trident.*rv[ :]*11\./)||(MG_Utils.addClass(document.documentElement,"ie11"),MG_Utils.addClass(document.documentElement,"ie")),"Win32"==navigator.platform?MG_Utils.addClass(document.documentElement,"windows"):"MacIntel"==navigator.platform&&MG_Utils.addClass(document.documentElement,"osx"),BrowserDetect.init()}"undefined"!=typeof searchTypes&&"undefined"!=typeof autocompleteSearch&&new autocompleteSearch({types:searchTypes,placeholderData:page_params.placeholderData}),"undefined"!=typeof dropdown&&(dropdown.init(".mainFilter, .sortFilter"),dropdown.init("#languageWrapper"),dropdown.init(".languageWrapper"),dropdown.init("#notificationIcons",{closeCallback:function(){var e=document.querySelector('.notificationIcon[data-type="'+document.getElementById("notificationBox").getAttribute("type")+'"] > span');e&&(e.style.display="none")}}),"undefined"!=typeof isLogged&&isLogged&&dropdown.init("#profileMenuWrapper")),renderCommentLinks(),function(){for(var e=document.querySelectorAll("textarea[data-val]"),t=0;t<e.length;t++)element=e[t],""==element.value&&(element.value=element.getAttribute("data-val"))}(),function(){for(var e=document.querySelectorAll("ul"),t=0;t<e.length;++t){var o=firstChild(e[t]),l=MG_Utils.lastChild(e[t]);o&&MG_Utils.addClass(o,"alpha"),l&&(MG_Utils.hasClass(l,"sectionMoreBtn")?MG_Utils.addClass(l.previousElementSibling||MG_Utils.previousElementSibling(l),"omega"):MG_Utils.addClass(l,"omega"))}}(),function(){for(var e=document.querySelectorAll(".container a.img, .container img"),t=0;t<e.length;++t)MG_Utils.hasClass(e[t],"catIcon")||(e[t].setAttribute("data-title",e[t].title),e[t].setAttribute("title",""))}(),initTooltip(),function(){for(var e,t,o,l=document.querySelectorAll(".wideDropdown"),a=0;a<l.length;++a)if(t=l[a],e=document.querySelector(".menu."+t.getAttribute("data-submenu-type")),o=document.querySelectorAll(".wideDropdown."+t.getAttribute("data-submenu-type")),e)for(var i=0;i<o.length;i++)e.appendChild(o[i])}(),function(){var t=document.getElementById("countryRedirectMessage");if(t&&!PH_Storage.getItem("hideLangRedirect")){t.style.display="block";for(var e=t.querySelectorAll("i"),o=0;o<e.length;o++)MG_Utils.addEventHandler(e[o],"click",function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,t.style.display="none",PH_Storage.saveWithExpiry("hideLangRedirect",!0)})}}(),function(){for(var e=document.querySelectorAll(".shareIcons a"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",function(e){var t,o,l=(e=e||window.event).target||e.srcElement;if(MG_Utils.preventDefault(e),"a"!==l.nodeName.toLowerCase())for(;(l=l.parentElement)&&"a"!==l.nodeName.toLowerCase(););t=Math.floor(((screen.availWidth||1024)-640)/2),o=Math.floor(((screen.availHeight||700)-320)/2),window.open(l.href,"social","width=640,height=320,left="+t+",top="+o+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1")})}(),VideoPreview.getTarget("js-videoPreview"),o=function(){"use strict";function o(e){var t=MG_Utils.closest(this,i.parent);if(!this.hasAttribute("data-mxptext")||!t||!t.hasAttribute("data-mxp"))return!1;var o="None",l=t.getAttribute("data-mxp"),a={};this.hasAttribute("data-mxptype")&&(o=this.getAttribute("data-mxptype")),i.debug&&MG_Utils.preventDefault(e),a[o+"Name"]=this.getAttribute("data-mxptext"),a.PageFrom=l,"undefined"!=typeof mixpanel&&mixpanel.track("View "+o,a)}var i={debug:!1,link:".js-mxp",parent:".js-mxpParent",meta:'head [name="mxp-page"]'},t=function(){var e=document.querySelector(i.meta);e&&"undefined"!=typeof mixpanel&&mixpanel.track("Viewed Page",{"Page Name":e.getAttribute("content")})},l=function(){for(var e=document.querySelectorAll(i.link),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",o)};return{init:function(e){if(!premiumFlag)return!1;e=e||{},(i=MG_Utils.extendSimple(i,e)).debug&&console.log("MixPanel debug mode"),t(),l()},trackClick:l}}(),"undefined"!=typeof premiumFlag&&"1"==premiumFlag&&o.init(),(i=document.querySelectorAll("#scrollNotif")[0])&&MG_Utils.addEventHandler(i,"scroll",function(e){var t,o=document.querySelectorAll("#scrollNotif");o[0].scrollTop+o[0].clientHeight>=o[0].scrollHeight&&("notifContent"==(t=document.querySelectorAll("#notificationBox")[0].getAttribute("type"))?fetchDataNotification():"messageContent"==t?setTimeout(function(){fetchDataMessages()},600):fetchData())}),MG_Utils.limit=function(e,o){for(var o=MG_Utils.extendSimple({limit:200},o),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"keyup",function(e){var t=(e=e||event).target||e.srcElement;t.value.length>o.limit&&(t.value=t.value.substring(0,o.limit))})};var r,s,n,c,d,u,m=function(){"use strict";var e;function t(){var o={},t="extended",n="";function c(e){e.preventDefault(),l(this.bioAbout,t),l(this.biographyBtns,t),l(this.bioText,t),l(this.profileDetails,t),l(this.showMoreLink,t),l(this.socials,t),this.parentElement&&l(this.parentElement,t),this.showMoreLink.innerHTML=MG_Utils.hasClass(this.showMoreLink,t)?o.showLess:o.showMore}function l(e,t){e&&MG_Utils.toggleClass(e,t)}this.init=function(e,t){o=t,function(){var e={parentElement:this.querySelector(".bottomDescription "),bioAbout:this.querySelector(".js-bioAbout"),biographyBtns:this.querySelector(".biographyBtns"),bioText:this.querySelector(".js-bioText"),profileDetails:this.querySelector(".js-infoText"),showMoreLink:this.querySelector(".js-showMoreLess"),socials:this.querySelector(".js-socials")};(function(){if(this.showMoreLink)if(document.querySelector(".claimed")||document.querySelector(".amateurModel")){var e=document.querySelectorAll(".js-headerContent"),t=!1,o=function(){var e,t,o=document.querySelector(".bottomDescription").offsetHeight-document.querySelector(".fadeout").offsetHeight,l=!!document.documentMode;return 0===o&&l?(e=0,t=setInterval(function(){o=document.querySelector(".bottomDescription").offsetHeight-document.querySelector(".fadeout").offsetHeight,e++,0<o&&clearInterval(t),20<e&&clearInterval(t)},1500)):(o=0,[].forEach.call(document.querySelectorAll(".js-highestChild"),function(e){null!==e.offsetParent&&(o=Math.max(e.offsetHeight,o))})),o+20}();if(void 0!==e&&0<e.length)for(var l=0;l<e.length;l++)if(e[l].offsetHeight>o){t=!0;break}t?(MG_Utils.addClass(this.showMoreLink,"displayNone"),MG_Utils.addClass(document.querySelector(".fadeout"),"displayNone")):this.showMoreLink.addEventListener("click",c.bind(this))}else{var a,i,r,s;(this.bioText&&0<this.bioText.scrollHeight||this.profileDetails&&0<this.profileDetails.scrollHeight)&&(a=this.bioText?this.bioText.scrollHeight:0,i=this.profileDetails?this.profileDetails.scrollHeight:0,r=this.bioAbout?175:r,s=i<=r,a<=r&&s?MG_Utils.addClass(this.showMoreLink,"displayNone"):this.showMoreLink.addEventListener("click",c.bind(this)),clearInterval(n))}}).call(e)}.call(e)}}return{getInstance:function(){return null==e&&((e=new t).constructor=null),e}}}();function f(e){e.length&&[].forEach.call(e,function(e){var t=document.querySelector(".add-to-playlist-menu");MG_Utils.hasClass(t,"display-none")&&MG_Utils.removeClass(e,"active")})}function v(e){var t,o,l=document.querySelector(".add-to-playlist-menu");if(e?t=e.querySelector(".playlist-trigger"):(o=document.querySelector(".zoom.active"))&&(t=o.querySelector(".playlist-trigger")),t)for(;"block"===l.style.display;)t.click()}function y(e){return!!e&&(!MG_Utils.hasClass(e,"playlist-trigger")&&!(MG_Utils.hasClass(e,"playlist-menu-addTo")||MG_Utils.hasClass(e,"playlist-list")||MG_Utils.hasClass(e,"playlist-menu-createNew")))}!function(){try{var e=document.querySelectorAll(".topProfileHeader")?document.querySelectorAll(".topProfileHeader")[0]:null,t="undefined"!=typeof PROFILE_MORE_LESS_TEXT?PROFILE_MORE_LESS_TEXT:null;e&&t&&m.getInstance().init(e,t)}catch(e){console.log("ERROR === SHOW MORE LESS CLASS ==="),console.log(e)}if(document.querySelectorAll(".createPlaylistModalTrigger"))for(var o=document.querySelectorAll(".createPlaylistModalTrigger"),l=o.length-1;0<=l;l--)MG_Utils.addEventHandler(o[l],"click",function(e){(e=e||event).preventDefault(),void 0!==createPlaylistModal&&createPlaylistModal.openModal(function(){dropdown.init("#playlist-form .privacySelector"),MG_Utils.limit(document.querySelectorAll("#new-playlist-description"),{limit:1e3})})})}(),function(){if(document.querySelectorAll(".blockPageScroll"))for(var e=document.querySelectorAll(".blockPageScroll"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"mousewheel",function(e){(e=e||event).preventDefault()}),MG_Utils.addEventHandler(e[t],"DOMMouseScroll",function(e){(e=e||event).preventDefault()})}(),function(){if(document.querySelectorAll(".expandable-title")){for(var e=document.querySelectorAll(".expandable-title"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(){if(MG_Utils.hasClass(this.parentNode,"active")){var e=this.parentNode;e.querySelector(".expandable-content").style.display="none",MG_Utils.removeClass(e,"active")}else{for(var t=this.parentNode,o=document.querySelectorAll(".expandable-section.active"),l=o.length-1;0<=l;l--)MG_Utils.removeClass(o[l],"active"),o[l].querySelector(".expandable-content").style.display="none";t.querySelector(".expandable-content").style.display="block",MG_Utils.addClass(t,"active")}});for(var o=document.querySelectorAll(".expandable-title .expand-button"),t=o.length-1;0<=t;t--)MG_Utils.addEventHandler(o[t],"click",function(e){(e=e||event).preventDefault()})}}(),(s=document.body).addEventListener("mouseover",function(e){var t,o,l=e.target;e.relatedTarget;window.clearTimeout(r),MG_Utils.hasClass(l,"fadeUp")&&!MG_Utils.hasClass(l.parentNode,"js-noFade")&&(t=l.querySelector(".thumb"),o=l.querySelector(".privateOverlay"),a=MG_Utils.hasClass(l,"fade")?l.querySelector(".watchedVideoText"):MG_Utils.closest(l,".fade").querySelector(".watchedVideoText"),o||(!MG_Utils.hasClass(t,"js-videoPreview")||MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"activeVideo")||(r=setTimeout(function(){MG_Utils.removeClass(l,"fadeUp")},300)),MG_Utils.hasClass(t,"js-videoThumbFlip")&&!t.getAttribute("data-flipbook_active")&&(MG_Utils.hasClass(t,"js-videoPreview")||(r=setTimeout(function(){MG_Utils.removeClass(l,"fadeUp"),a&&!MG_Utils.hasClass(a,"hide")&&MG_Utils.addClass(a,"hide")},100)),MG_Utils.hasClass(t,"js-videoPreview")&&(r=setTimeout(function(){MG_Utils.removeClass(l,"fadeUp"),a&&!MG_Utils.hasClass(a,"hide")&&MG_Utils.addClass(a,"hide")},100)))));var a,i=!!document.documentMode;MG_Utils.hasClass(l,"js-videoThumbFlip")&&i&&(a=MG_Utils.closest(l,".fade").querySelector(".watchedVideoText"))&&!MG_Utils.hasClass(a,"hide")&&MG_Utils.addClass(a,"hide")}),s.addEventListener("mouseout",function(e){var t,o,l,a=e.target,i=e.relatedTarget;window.clearTimeout(r),MG_Utils.closest(a,".fade")&&(MG_Utils.hasClass(MG_Utils.closest(a,".fade"),"fadeUp")||(l=MG_Utils.closest(a,".fade").querySelector(".watchedVideoText"),MG_Utils.hasClass(a,"js-videoThumbFlip")&&MG_Utils.hasClass(a,"js-videoPreview")&&(MG_Utils.addClass(MG_Utils.closest(a,".fade"),"fadeUp"),l&&MG_Utils.hasClass(l,"hide")&&MG_Utils.removeClass(l,"hide")),MG_Utils.hasClass(a,"js-videoPreview")&&!MG_Utils.hasClass(a,"js-videoThumbFlip")&&MG_Utils.addClass(MG_Utils.closest(a,".fade"),"fadeUp")),t=!!document.documentMode,MG_Utils.hasClass(a,"js-videoThumbFlip")&&t&&(l=MG_Utils.closest(a,".fade").querySelector(".watchedVideoText"))&&MG_Utils.hasClass(l,"hide")&&MG_Utils.removeClass(l,"hide")),MG_Utils.hasClass(a,"fade")&&!MG_Utils.hasClass(a,"fadeUp")&&(o=a.querySelector(".thumb"),MG_Utils.hasClass(a,"fade")&&(l=a.querySelector(".watchedVideoText")),o&&MG_Utils.hasClass(o,"js-videoThumbFlip")&&MG_Utils.hasClass(o,"js-videoPreview")&&i&&!MG_Utils.hasClass(i,"thumb")&&(MG_Utils.addClass(a,"fadeUp"),l&&MG_Utils.hasClass(l,"hide")&&MG_Utils.removeClass(l,"hide")),o&&MG_Utils.hasClass(o,"js-videoThumbFlip")&&!MG_Utils.hasClass(o,"js-videoPreview")&&i&&!MG_Utils.hasClass(i,"thumb")&&(MG_Utils.addClass(a,"fadeUp"),l&&MG_Utils.hasClass(l,"hide")&&MG_Utils.removeClass(l,"hide")),o&&MG_Utils.hasClass(o,"js-videoPreview")&&!MG_Utils.hasClass(o,"js-videoThumbFlip")&&!MG_Utils.hasClass(o,"activeVideo")&&MG_Utils.addClass(a,"fadeUp"))}),(c=document.body).addEventListener("mouseover",function(e){var t,o,l=e.target;window.clearTimeout(n),MG_Utils.closest(l,".zoom")&&!MG_Utils.hasClass(MG_Utils.closest(l,".zoom"),"active")&&((MG_Utils.hasClass(l,"img")&&MG_Utils.hasClass(l.querySelector(".thumb"),"js-videoThumbFlip")||MG_Utils.hasClass(l,"js-videoThumbFlip"))&&(t=MG_Utils.closest(l,".zoom"),o=document.querySelectorAll(".zoom.active"),"block"===document.querySelector(".add-to-playlist-menu").style.display&&v(),f(o),n=setTimeout(function(){MG_Utils.addClass(t,"active")},100)),(MG_Utils.hasClass(l,"img")&&l.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(l.querySelector(".js-videoPreview"),"activeVideo")&&!l.querySelector(".js-videoThumbFlip")||MG_Utils.hasClass(l,"js-videoPreview")&&!MG_Utils.hasClass(l,"activeVideo")&&!MG_Utils.hasClass(l,"js-videoThumbFlip"))&&(t=MG_Utils.closest(l,".zoom"),o=document.querySelectorAll(".zoom.active"),"block"===document.querySelector(".add-to-playlist-menu").style.display&&v(),f(o),n=setTimeout(function(){MG_Utils.addClass(t,"active")},100)))}),c.addEventListener("mouseout",function(e){var t=e.target,o=e.relatedTarget,l=this.querySelector(".add-to-playlist-menu");if(MG_Utils.closest(t,".zoom")){var a,i=MG_Utils.closest(t,".zoom");if(window.clearTimeout(n),(MG_Utils.hasClass(t,"img")||MG_Utils.hasClass(t,"thumb"))&&MG_Utils.hasClass(l,"display-none")&&o&&(MG_Utils.hasClass(o,"playlist-trigger")||MG_Utils.hasClass(o,"not-interested-trigger")||MG_Utils.closest(o,".playlist-menu-addTo")||MG_Utils.closest(o,".playlist-list")||MG_Utils.closest(o,".playlist-menu-createNew")||MG_Utils.closest(o,".marker-overlays")))return;(MG_Utils.hasClass(i,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||t.querySelector(".js-videoPreview")&&t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(o,"thumb")&&y(o))&&(a=document.querySelectorAll(".zoom.active"),"block"===l.style.display&&v(i),f(a)),(MG_Utils.hasClass(i,"active")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoThumbFlip")&&o&&y(o)&&!MG_Utils.hasClass(o,"thumb"))&&(a=document.querySelectorAll(".zoom.active"),"block"===l.style.display&&v(i),f(a)),(MG_Utils.hasClass(i,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"activeVideo")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoPreview")&&!t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(t.querySelector(".js-videoPreview"),"activeVideo")&&y(o))&&(a=document.querySelectorAll(".zoom.active"),"block"===l.style.display&&v(i),f(a))}(MG_Utils.closest(t,".marker-overlays")||MG_Utils.closest(t,".add-to-playlist-icon"))&&MG_Utils.closest(t,".zoom")&&MG_Utils.hasClass(MG_Utils.closest(t,".zoom"),"active")&&o&&!MG_Utils.closest(o,".marker-overlays")&&!MG_Utils.closest(o,".phimage")&&!MG_Utils.closest(o,".add-to-playlist-menu")&&(a=document.querySelectorAll(".zoom.active"),i=MG_Utils.closest(t,".zoom"),window.clearTimeout(n),"block"===l.style.display&&v(i),f(a)),t&&o&&(MG_Utils.closest(t,".playlist-menu-addTo")||MG_Utils.closest(t,".playlist-list")||MG_Utils.closest(t,".playlist-menu-createNew"))&&!MG_Utils.hasClass(o,"playlist-trigger")&&!MG_Utils.hasClass(o,"img")&&!MG_Utils.closest(o,".add-to-playlist-menu")&&(a=document.querySelectorAll(".zoom.active"),window.clearTimeout(n),"block"===l.style.display&&v(),f(a))}),d=document.querySelector("#searchInput"),u=document.querySelector("#searchBarContainer"),null!==d&&(MG_Utils.addEventHandler(d,"focus",function(){MG_Utils.addClass(u,"active")}),MG_Utils.addEventHandler(d,"blur",function(){MG_Utils.removeClass(u,"active")})),fadeClickthroughEvent()});var LoverManageModal=function(){var d=this,u={};function s(e,t){var o=e.querySelector(".loverEmail");o&&t.payload&&t.payload.loverEmail&&(o.innerHTML=t.payload.loverEmail)}function o(e,t){var o=t.querySelector(".submitBtn"),l=t.querySelector(".customInput"),a=t.querySelector("#loverSubmitForm");o&&d.type===d.action.POPUPINFO?o.addEventListener("click",function(e){d.modal.closeModal()}):(o&&l&&a&&(o.addEventListener("click",function(e){e.preventDefault();var t=this.querySelector('input[name="loverEmail"]'),o=t?t.value:"",l=this.querySelector('input[name="senderNickname"]'),a=l?l.value:"",i=this.querySelector('textarea[name="loverMessage"]'),r=i?i.value:"";if(t&&!new RegExp("(\\s|^)hideElement(\\s|$)").test(t.className)&&function(e){return!e||!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}(o.trim()))return void n(t,"emailInvlidError");if(d.type===d.action.CHANGELOVER&&o===d.secondaryLoverEmail)return void n(t,"emailRepeatError");r=r.replace(/(;|\(|\)|\[|\]|#)/g,""),a=a.replace(/(;|\(|\)|\[|\]|#)/g,""),MG_Utils.ajaxCall({url:d.settings.apiUrl,data:{loverEmail:o.trim(),senderNickname:a.trim(),loverMessage:r.trim()},type:"POST",success:function(e){var t,o,l,a,i,r;e&&"success"==e.success?u[d.type+"Success"]?(t=d.type,o=e,l=document.querySelector(".loverContent .loverChangeButtons"),a=document.querySelector(".loverContent .addLoverButtonWrap"),i=document.querySelector(".loverContent .loverEmail"),r=document.querySelector(".loverContent .loverStatus"),a&&l&&i&&r&&(t===d.action.REMOVELOVER?(MG_Utils.addClass(l,"display-none"),MG_Utils.removeClass(a,"display-none"),MG_Utils.addClass(i,"display-none"),MG_Utils.removeClass(r,"pending")):(MG_Utils.addClass(a,"display-none"),MG_Utils.removeClass(l,"display-none"),MG_Utils.removeClass(i,"display-none"),MG_Utils.addClass(r,"pending"),o&&o.payload&&o.payload.loverEmail&&(d.secondaryLoverEmail=o.payload.loverEmail,i.innerText=o.payload.loverEmail))),d._layoutModal("Success",s,e)):d.type===d.action.CHANGETYPE&&e.payload&&e.payload.downgrade_url&&(window.location.href=e.payload.downgrade_url):c(e.messages)}})}.bind(a)),l.addEventListener("focus",function(){{var e;MG_Utils.hasClass(this,"error")&&(e=document.querySelector(".referLoveModal #hiddenEmail"),MG_Utils.removeClass(this,"error"),this.value=e?e.value:"",c())}}.bind(l))),d.type===d.action.INVITELOVER&&function(){{var t;d.modal&&d.modal.container&&(t=function(e){MG_Utils.hasClass(e.target,"closeMTubes")&&(MG_Utils.ajaxCall({url:postSignupPageParams.dismissInvitationUrl,type:"GET",success:function(e){}}),d.modal.container.removeEventListener("click",t))},d.modal.container.addEventListener("click",t))}}())}function n(e,t){var o=document.querySelector(".referLoveModal #hiddenEmail");o&&!MG_Utils.hasClass(e,"error")&&(o.value=e.value),MG_Utils.addClass(e,"error"),e.value=d._errors[t]}function c(e){var t=document.querySelector(".referLoveModal .requestErrors");t&&(e?(t.innerHTML=e,MG_Utils.addClass(t,"error")):(t.innerHTML="",MG_Utils.removeClass(t,"error")))}function a(){var e=document.getElementById("js_recommendationList");e&&e.addEventListener("change",function(e){var t=this.checked?1:0;MG_Utils.ajaxCall({url:d._recommendationListUrl,data:{share_recommendation:t},type:"POST",success:function(e){}})})}d.type=null,d.modal=null,d.settings={},d.action={INVITELOVER:"inviteLover",ADDLOVER:"addLover",CHANGELOVER:"changeLover",REMOVELOVER:"removeLover",CHANGETYPE:"changeType",POPUPINFO:"popupInfo",CHANGEMEMBERSHIP:"changeMembership"},d.init=function(e,t){d._modalWrapper=e,d._recommendationListUrl=t.recommendationListUrl,d.secondaryLoverEmail=t.secondaryLoverEmail,d._errors={emailInvlidError:t.emailInvlidError,emailRepeatError:t.emailRepeatError},u={inviteLover:{apiUrl:t.addLoveRequestUrl,title:t.inviteLoverTitle,button:t.inviteLoverSubmit,content:t.inviteLoverContent,input:!0,textarea:!0},inviteLoverSuccess:{title:t.inviteSuccessTitle,content:t.inviteSuccessContent},addLover:{apiUrl:t.addLoveRequestUrl,title:t.addLoverTitle,button:t.addLoverSubmit,input:!0,textarea:!0},addLoverSuccess:{title:t.inviteSuccessTitle,content:t.inviteSuccessContent},changeLover:{apiUrl:t.changeLoveRequestUrl,title:t.changeLoverTitle,button:t.changeLoverSubmit,input:!0,textarea:!0},changeLoverSuccess:{title:t.inviteSuccessTitle,content:t.inviteSuccessContent},removeLover:{apiUrl:t.removeLoveRequestUrl,title:t.removeLoverTitle,button:t.removeLoverSubmit,process:o,input:!1},removeLoverSuccess:{title:t.removeSuccessTitle,content:t.removeSuccessContent,button:t.addLoverSubmit},changeType:{apiUrl:t.changeTypeRequestUrl,title:t.changeTypeTitle,button:t.changeTypeSubmit,content:t.changeTypeContent,input:!1,disclaimer:t.changeTypeDisclaimer},popupInfo:{button:"Close"},changeMembership:{title:t.changeTypeTitleSucess,content:t.changeMembershipContent}},d._registerActions()},d.setupModal=function(e){return d.type=e,d.modal&&d.modal.closeModal&&d.modal.closeModal(),d.settings=u[e],d.modal=new MG_Modal({content:d._modalWrapper,className:"referLoveModal",closeDocument:!1}),d},d.show=function(e){var t=e||o;d.modal.openModal(t),d._layoutModal()},d._layoutModal=function(e,t,o){var l,a,i,r,s,n,c=d.modal.modal;e&&"Success"===e?(d.type+=e,d.settings=u[d.type],l=c.querySelector(".successContentWrapper"),MG_Utils.removeClass(l,"display-none"),MG_Utils.addClass(c.querySelector(".requestContentWrapper"),"display-none")):(l=c.querySelector(".requestContentWrapper"),MG_Utils.removeClass(l,"display-none"),MG_Utils.addClass(c.querySelector(".successContentWrapper"),"display-none"),MG_Utils.addClass(c,d.type)),l.querySelector(".modalTitle").innerHTML=d.settings.title,void 0!==d.settings.content&&(a=l.querySelector(".modalContent"),MG_Utils.removeClass(a,"hideElement"),a.innerHTML=d.settings.content),void 0!==d.settings.button&&(i=l.querySelector("button"),MG_Utils.removeClass(i,"hideElement"),i.innerHTML=d.settings.button),void 0!==d.settings.input&&d.settings.input&&(r=l.querySelectorAll("#loverSubmitForm input"),MG_Utils.removeClassMultiple(r,"hideElement")),void 0===d.settings.textarea||!d.settings.textarea||(s=l.querySelector("#loverSubmitForm textarea"))&&MG_Utils.removeClass(s,"hideElement"),t&&o&&t(c,o),d.type!==d.action.CHANGETYPE||void 0===d.settings.disclaimer||(n=l.querySelector(".disclaimer"))&&(n.innerHTML=d.settings.disclaimer)},d._registerActions=function(){var e=document.getElementById("js_addLoverBtn"),t=document.getElementById("js_changeLoverBtn"),o=document.getElementById("js_removeLoverBtn"),l=document.getElementById("js_changeTypeBtn");e&&e.addEventListener("click",function(e){d.setupModal(d.action.ADDLOVER).show()}),t&&t.addEventListener("click",function(e){d.setupModal(d.action.CHANGELOVER).show()}),o&&o.addEventListener("click",function(e){d.setupModal(d.action.REMOVELOVER).show()}),l&&l.addEventListener("click",function(e){d.setupModal(d.action.CHANGETYPE).show()}),a()},d.secondaryLoverSetup=function(e){d._recommendationListUrl=e.recommendationListUrl,a()}};try{var loverManageModal,loverManage,loverModal=document.querySelector("#postSignupModals #referLoveModal"),postSignupPageParams="undefined"!=typeof PRIMARY_LOVER_DATA?PRIMARY_LOVER_DATA:null;loverModal&&postSignupPageParams?((loverManageModal=new LoverManageModal).init(loverModal,postSignupPageParams),postSignupPageParams.changeMembership?loverManageModal.setupModal(loverManageModal.action.CHANGEMEMBERSHIP).show():""===postSignupPageParams.secondaryLoverEmail&&postSignupPageParams.showLoverEmailRequestModal&&loverManageModal.setupModal(loverManageModal.action.INVITELOVER).show()):"undefined"!=typeof SECONDARY_LOVER_DATA&&(loverManage=new LoverManageModal).secondaryLoverSetup(SECONDARY_LOVER_DATA)}catch(e){console.log("ERROR === MODALS NOT LOADED CORRECTLY ==="),console.log(e)}